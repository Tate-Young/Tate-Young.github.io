
<!DOCTYPE>
<html lang="zh-cn" data-scribe-reduced-action-queue="true">

<head>
    <meta content='CSS in JS - Tate & Snow' name='title' />
    <meta content='CSS in JS - Tate & Snow' name='og:title' />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
    <title>CSS in JS - Tate & Snow</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>CSS in JS - Tate & Snow</title>
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CSS in JS - Tate & Snow">
<meta name="twitter:keywords" content="CSS in JS - Tate & Snow" property='og:description' />
<meta property="og:type" content="article">
<meta property="og:title" content="CSS in JS - Tate & Snow">
<meta name="og:keywords" content="CSS in JS - Tate & Snow|CSS in JSä»€ä¹ˆæ˜¯ CSS in JSå¯¹äºä»¥å¾€çš„å¼€å‘ï¼Œé€šå¸¸æ˜¯é‡‡ç”¨â€å…³æ³¨ç‚¹åˆ†ç¦»â€çš„æ¨¡å¼ï¼Œå³:  HTML - è´Ÿè´£ç½‘é¡µçš„ç»“æ„ï¼Œåˆç§°è¯­ä¹‰å±‚  CSS - è´Ÿè´£ç½‘é¡µçš„æ ·å¼ï¼Œåˆç§°è§†è§‰å±‚  JavaScript - è´Ÿè´£ç½‘é¡µçš„é€»è¾‘å’Œäº¤äº’ï¼Œ..."
  property='og:description' />
<link rel="icon" type="image/png" href="http://localhost:4000/style/favicons/favicon.ico" />
<link href="http://localhost:4000/style/favicons/favicon.ico" rel="shortcut icon" type="image/png">
<link rel="canonical" href="http://localhost:4000/">
<link rel="alternate" type="application/rss+xml" title="Liberxue" href="http://localhost:4000/feed.xml">
<meta charset="UTF-8">
<link rel="manifest" href="/manifest.json">
<link rel="shortcut icon" href="http://localhost:4000/style/favicons/favicon.ico" type="image/x-icon">
<meta name="keywords" content="CSS in JSä»€ä¹ˆæ˜¯ CSS in JSå¯¹äºä»¥å¾€çš„å¼€å‘ï¼Œé€šå¸¸æ˜¯é‡‡ç”¨â€å…³æ³¨ç‚¹åˆ†ç¦»â€çš„æ¨¡å¼ï¼Œå³:  HTML - è´Ÿè´£ç½‘é¡µçš„ç»“æ„ï¼Œåˆç§°è¯­ä¹‰å±‚  CSS - è´Ÿè´£ç½‘é¡µçš„æ ·å¼ï¼Œåˆç§°è§†è§‰å±‚  JavaScript - è´Ÿè´£ç½‘é¡µçš„é€»è¾‘å’Œäº¤äº’ï¼Œ..." property='og:description'
/>
<meta name="description" content="Tate & Snow's Github blog" />
<link href="https://cdn.bootcss.com/highlight.js/9.10.0/styles/xcode.min.css" rel="stylesheet">
<link href="http://localhost:4000/style/theme.css" rel="stylesheet"> 
<meta content='http://localhost:4000/2019/04/13/css-in-js.html' property='og:url' />
<meta content="http://localhost:4000/2019/04/13/css-in-js.html|CSS in JSä»€ä¹ˆæ˜¯ CSS in JSå¯¹äºä»¥å¾€çš„å¼€å‘ï¼Œé€šå¸¸æ˜¯é‡‡ç”¨â€å…³æ³¨ç‚¹åˆ†ç¦»â€çš„æ¨¡å¼ï¼Œå³:  HTML - è´Ÿè´£ç½‘é¡µçš„ç»“æ„ï¼Œåˆç§°è¯­ä¹‰å±‚  CSS - è´Ÿè´£ç½‘é¡µçš„æ ·å¼ï¼Œåˆç§°è§†è§‰å±‚  JavaScript - è´Ÿè´£ç½‘é¡µçš„é€»è¾‘å’Œäº¤äº’ï¼Œ..." property='og:description'
/>
<meta content="article" property="og:type" /> 

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-136311746-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  window.GA_TRACKING_ID = 'UA-136311746-1'
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('set', {
    'country': 'US',
    'currency': 'USD',
    'description': 'fuck',
  });
  gtag('config', GA_TRACKING_ID, {
    'custom_map': {
      'dimension1': 'post_title',
    },
    'post_title': 'test',
  });
</script>
<meta content="" property="fb:app_id" />
<script>
  (function (d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s);
    js.id = id;
    js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&appId=";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>

</head>

<body class="dark-theme" gtools_scp_screen_capture_injected="true">
    <header id="header" class="header bg-white">
        <div class="navbar-container">
            <a href="Javascript:;" onclick="onClickLogo()" title="è®¿é—® Tate & Snow" class="navbar-logo">
                <img src="https://i.loli.net/2018/03/13/5aa74f5b4c2c7.png" alt="Tate & Snow"> </a>
            <!-- <a href="/?tate" title="è®¿é—® Tate & Snow" class="navbar-logo">Tate & Snow</a>   -->
            <div class="navbar-menu">
                
                <a href="Javascript:;" onclick="onClickMenu('é¦–é¡µ', '/')" title="è®¿é—® é¦–é¡µ" data-hover="é¦–é¡µ">é¦–é¡µ</a>
                
                <a href="Javascript:;" onclick="onClickMenu('å‰ç«¯', '/front')" title="è®¿é—® å‰ç«¯" data-hover="å‰ç«¯">å‰ç«¯</a>
                
                <a href="Javascript:;" onclick="onClickMenu('æ¡†æ¶', '/tool')" title="è®¿é—® æ¡†æ¶" data-hover="æ¡†æ¶">æ¡†æ¶</a>
                
                <a href="Javascript:;" onclick="onClickMenu('åç«¯', '/back')" title="è®¿é—® åç«¯" data-hover="åç«¯">åç«¯</a>
                
                <a href="Javascript:;" onclick="onClickMenu('æ ‡ç­¾', '/tags')" title="è®¿é—® æ ‡ç­¾" data-hover="æ ‡ç­¾">æ ‡ç­¾</a>
                
                <a href="Javascript:;" onclick="onClickMenu('å…³äº', '/README')" title="è®¿é—® å…³äº" data-hover="å…³äº">å…³äº</a>
                
            </div>
            <!-- <div class="navbar-menu">
                
                <a href="http://localhost:4000/">é¦–é¡µ</a>
                
                <a href="http://localhost:4000/front">å‰ç«¯</a>
                
                <a href="http://localhost:4000/tool">æ¡†æ¶</a>
                
                <a href="http://localhost:4000/back">åç«¯</a>
                
                <a href="http://localhost:4000/tags">æ ‡ç­¾</a>
                
                <a href="http://localhost:4000/README">å…³äº</a>
                
            </div> -->
            <div class="navbar-search" onclick="onClickSearch()">
                <span class="icon-search"></span>
                <form id="cb-search-btn" role="search">
                    <span class="search-box">
                        <input type="text" class="input" id="cb-search-content" required="true" placeholder="æ ‡é¢˜ æ ‡ç­¾..." maxlength="30" autocomplete="off">
                    </span>
                </form>
            </div>
            <div class="navbar-mobile-menu" onclick="">
                <span class="icon-menu cross">
                    <span class="middle"></span>
                </span>
                <ul>
                    
                    <li>
                        <a href="Javascript:;" onclick="onClickMenu('é¦–é¡µ', 'http://localhost:4000/')">é¦–é¡µ</a>
                    </li>
                    
                    <li>
                        <a href="Javascript:;" onclick="onClickMenu('å‰ç«¯', 'http://localhost:4000/front')">å‰ç«¯</a>
                    </li>
                    
                    <li>
                        <a href="Javascript:;" onclick="onClickMenu('æ¡†æ¶', 'http://localhost:4000/tool')">æ¡†æ¶</a>
                    </li>
                    
                    <li>
                        <a href="Javascript:;" onclick="onClickMenu('åç«¯', 'http://localhost:4000/back')">åç«¯</a>
                    </li>
                    
                    <li>
                        <a href="Javascript:;" onclick="onClickMenu('æ ‡ç­¾', 'http://localhost:4000/tags')">æ ‡ç­¾</a>
                    </li>
                    
                    <li>
                        <a href="Javascript:;" onclick="onClickMenu('å…³äº', 'http://localhost:4000/README')">å…³äº</a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </header>
    <a href="#header" class="back-to-top" onclick="onClickTop('CSS in JS')">â¤´Topâ¤´</a>
    <div class="post-header-thumb bg-white}">
        <div class="post-header-thumb-op"></div>
        <div class="post-header-thumb">
            <div class="post-header-thumb-container">
                <h1 class="post-title" itemprop="name headline">
                    CSS in JS</h1>
                <div class="post-data">
                    <time datetime="2019-04-13 19:46:00" itemprop="datePublished">
                      å‘å¸ƒæ—¶é—´ï¼š2019-04-13 19:46:00
                      &nbsp;&nbsp;&nbsp;
                      
                        ä¿®æ”¹æ—¶é—´ï¼š2019-04-14 23:14:00
                      
                    </time>
                    <a onclick="onClickCategory('å‰ç«¯')" href="Javascript:;" title="è®¿é—® å‰ç«¯" data-hover="åšå®¢åˆ†ç±»: å‰ç«¯">åšå®¢åˆ†ç±»: å‰ç«¯</a>
                    <!-- <a href="#read"> é˜…è¯»æ¬¡æ•°: comments</a>  -->
                </div>
                <div class="post-tags">
                       
                    <a href="Javascript:;" onclick="onClickTag('css')" title="è®¿é—®css" data-hover="css">
                        css
                        <span>(10)</span>
                        
                    </a>
                    
                    <a href="Javascript:;" onclick="onClickTag('js')" title="è®¿é—®js" data-hover="js">
                        js
                        <span>(4)</span>
                        
                    </a>
                    
                    <a href="Javascript:;" onclick="onClickTag('react')" title="è®¿é—®react" data-hover="react">
                        react
                        <span>(2)</span>
                        
                    </a>
                       
                </div>
            </div>
        </div>
    </div>
    <article class="main-content post-page" itemscope itemtype="http://schema.org/Article">
        <div class="post-header">
            <h1 class="post-title" itemprop="name headline">
                CSS in JS</h1>
            <div class="post-data">
                <time datetime="2019-04-13 19:46:00" itemprop="datePublished">2019-04-13 19:46:00</time>
            </div>
        </div>
        <div id="post-content" class="post-content" itemprop="articleBody">
            <p class="post-tags">
                   
                <a href="Javascript:;" onclick="onClickTag('css')" title="è®¿é—®css" data-hover="css">
                    css
                    <span>(10)</span>
                    </a>
                
                <a href="Javascript:;" onclick="onClickTag('js')" title="è®¿é—®js" data-hover="js">
                    js
                    <span>(4)</span>
                    </a>
                
                <a href="Javascript:;" onclick="onClickTag('react')" title="è®¿é—®react" data-hover="react">
                    react
                    <span>(2)</span>
                    </a>
                   
            </p>
            <h1 id="css-in-js">CSS in JS</h1>

<h2 id="ä»€ä¹ˆæ˜¯-css-in-js">ä»€ä¹ˆæ˜¯ CSS in JS</h2>

<p>å¯¹äºä»¥å¾€çš„å¼€å‘ï¼Œé€šå¸¸æ˜¯é‡‡ç”¨â€å…³æ³¨ç‚¹åˆ†ç¦»â€çš„æ¨¡å¼ï¼Œå³:</p>

<ul>
  <li>HTML - è´Ÿè´£ç½‘é¡µçš„ç»“æ„ï¼Œåˆç§°è¯­ä¹‰å±‚</li>
  <li>CSS - è´Ÿè´£ç½‘é¡µçš„æ ·å¼ï¼Œåˆç§°è§†è§‰å±‚</li>
  <li>JavaScript - è´Ÿè´£ç½‘é¡µçš„é€»è¾‘å’Œäº¤äº’ï¼Œåˆç§°é€»è¾‘å±‚æˆ–äº¤äº’å±‚</li>
</ul>

<p>å…¶ä¸­ CSS çš„å‘å±•ç›¸è¾ƒä¸‹æ¥æ˜¯ååˆ†ç¼“æ…¢çš„ï¼Œåˆ°ç°åœ¨ä»ç„¶æ— æ³•è§£å†³ä»¥ä¸‹å‡ ä¸ªé—®é¢˜:</p>

<ul>
  <li>å…¨å±€ä½œç”¨åŸŸ - å¯ä»¥éµå¾ª CSS ä¼˜å…ˆçº§</li>
  <li>ä¹¦å†™ - å¯ä»¥é‡‡ç”¨é¢„ç¼–è¯‘ <code class="highlighter-rouge">less</code>ã€<code class="highlighter-rouge">sass</code> æˆ–è€… <a href="https://postcss.org"><strong>PostCss</strong></a></li>
  <li>å‘½åè§„åˆ™ - å¯ä»¥éµå¾ª <a href="http://getbem.com/naming/"><strong>BEM</strong></a>ï¼Œå°±æ˜¯ä¸ºäº†è§£å†³å‘½åå†²çªä»¥åŠæ›´å¥½çš„è¯­ä¹‰åŒ–è€Œç”Ÿçš„</li>
</ul>

<p>CSS æ¨¡å—åŒ–çš„è§£å†³æ–¹æ¡ˆæœ‰å¾ˆå¤šï¼Œä½†ä¸»è¦æœ‰ä¸¤ç±»:</p>

<ul>
  <li><strong>CSS Modules</strong> - é‡‡ç”¨ CSSï¼Œæ­é… webpack ä½¿ç”¨</li>
  <li><strong>CSS in JS</strong> - æŠ›å¼ƒ CSSï¼Œé€šè¿‡ JS æ¥å†™æ ·å¼
    <ul>
      <li>ç¼ºç‚¹æ˜¯ä¸èƒ½åˆ©ç”¨æˆç†Ÿçš„ CSS é¢„å¤„ç†å™¨ï¼Œå¤ç”¨æ€§å·®ï¼Œéœ€è¦ç¼–è¾‘å™¨æ”¯æŒä»£ç è¡¥å…¨å’Œé«˜äº®</li>
    </ul>
  </li>
</ul>

<h2 id="css-modules">CSS Modules</h2>

<h3 id="localidentname">localIdentName</h3>

<p><a href="https://github.com/css-modules/css-modules"><strong>CSS Modules</strong></a> ä¸­å¯ä»¥å®šä¹‰å±€éƒ¨å’Œå…¨å±€å˜é‡:</p>

<ul>
  <li><strong>:local</strong> - é€šè¿‡ localIdentName è§„åˆ™å¤„ç†</li>
  <li><strong>:global</strong> - æ ·å¼ç¼–è¯‘åä¸å˜</li>
</ul>

<pre><code class="language-CSS">/* ä¸‹é¢ä¸¤ä¸ªç­‰ä»·ï¼Œé»˜è®¤ç»™æ¯ä¸ª class åå¤–åŠ åŠ äº†ä¸€ä¸ª `:local` */
.normal {
  color: green;
}

:local(.normal) {
  color: green;
}

/* å…¨å±€æ ·å¼ */
:global {
  .link {
    color: green;
  }
  .box {
    color: yellow;
  }
}
</code></pre>

<p>CSS Modules ä¸ webpack çš„ <code class="highlighter-rouge">css-loader</code> å¯ä»¥å¾ˆå¥½åœ°<a href="https://webpack.js.org/loaders/css-loader/#modules">æ­é…ä½¿ç”¨</a>:</p>

<pre><code class="language-JS">// modules è®¾ç½®ä¸º trueï¼Œåˆ™å¯ç”¨ CSS Modules
module.exports = {
  module: {
    rules: [
      {
        test: /\.css$/,
        loader: 'css-loader',
        options: {
          modules: true,
        },
      },
    ],
  },
};
</code></pre>

<p>è¿™æ ·çš„è¯ï¼Œæ ·å¼ä¼šè¢«è½¬æ¢æˆä¸€ä¸²å“ˆå¸Œå€¼ï¼Œä¸ä¾¿äºæˆ‘ä»¬å»å®šä½ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ç”Ÿæˆæ ·å¼çš„<a href="https://github.com/webpack/loader-utils#interpolatename">å‘½åè§„åˆ™</a>:</p>

<pre><code class="language-JS">// modules å³ä¸ºå¯ç”¨ï¼ŒlocalIdentName æ˜¯è®¾ç½®ç”Ÿæˆæ ·å¼çš„å‘½åè§„åˆ™
// [name]è¡¨ç¤ºæ–‡ä»¶åï¼Œ[local]è¡¨ç¤ºç±»åï¼Œ[hash:base64:5] æ˜¯æŒ‰ç…§ç»™å®šç®—æ³•ç”Ÿæˆçš„åºåˆ—ç 
options: {
  modules: true,
  localIdentName: '[path][name]__[local]-[hash:base64:5]',
},
</code></pre>

<p>ç„¶åæˆ‘ä»¬çœ‹ä»¥ä¸‹è¿™ä¸ªæ —å­:</p>

<pre><code class="language-CSS">/* test.css */
.active {...}
.disabled {...}
</code></pre>

<pre><code class="language-JS">import styles from './test.css';

console.log(styles);
/*
 * Object {
 *  active: 'h1__active-abc53',
 *  disabled: 'h1__disabled-def84',
 * }
*/

elem.outerHTML = `&lt;h1 class=${styles.active}&gt;CSS Modules&lt;/h1&gt;`
</code></pre>

<p>å¯ä»¥æœ€ç»ˆçœ‹åˆ°ç”Ÿæˆçš„ HTML æ˜¯:</p>

<pre><code class="language-HTML">&lt;h1 class="h1__active-abc53"&gt; Processing... &lt;/h1&gt;
</code></pre>

<h3 id="ç»„åˆ-composes">ç»„åˆ Composes</h3>

<p>å¯¹äºæ ·å¼å¤ç”¨ï¼ŒCSS Modules åªæä¾›äº†å”¯ä¸€çš„æ–¹å¼æ¥å¤„ç†ï¼Œå³ <strong>composes</strong> ç»„åˆ:</p>

<pre><code class="language-CSS">.className {
  color: green;
  background: red;
}

/* ç¼–è¯‘æ—¶ä¼šç¼–è¯‘æˆä¸¤ä¸ª class */
.otherClassName {
  composes: className;
  color: yellow;
}
</code></pre>

<p>å½“ç„¶ composes è¿˜å¯ä»¥ç»„åˆå¤–éƒ¨æ ·å¼æ–‡ä»¶:</p>

<pre><code class="language-CSS">/* settings.css */
.primary-color {
  color: #f40;
}
</code></pre>

<pre><code class="language-CSS">/* components/Button.css */
.base { /* æ‰€æœ‰é€šç”¨çš„æ ·å¼ */ }

.primary {
  composes: base;
  composes: primary-color from './settings.css';
  /* primary å…¶å®ƒæ ·å¼ */
}
</code></pre>

<h3 id="export">:export</h3>

<p><strong>:export</strong> å…³é”®å­—å¯ä»¥æŠŠ CSS ä¸­çš„å˜é‡è¾“å‡ºåˆ° JS ä¸­:</p>

<pre><code class="language-CSS">$primary-color: #f40;

:export {
  primaryColor: $primary-color;
}
</code></pre>

<pre><code class="language-JS">import style from 'index.scss';

console.log(style.primaryColor); // #f40
</code></pre>

<blockquote>
  <p>ä¸ React æ­é…ä½¿ç”¨çš„è¯æ¨è <a href="https://github.com/gajus/react-css-modules">react-css-modules</a> ğŸ‘ˆ</p>
</blockquote>

<h2 id="web-components-è§„èŒƒ">Web Components è§„èŒƒ</h2>

<p>è°ˆåˆ°ç»„ä»¶åŒ–çš„è¯å¿…é¡»è¯´åˆ° <a href="https://developer.mozilla.org/zh-CN/docs/Web/Web_Components"><strong>Web Components</strong></a>ï¼Œå®ƒé€šè¿‡ä¸€ç§æ ‡å‡†åŒ–çš„éä¾µå…¥çš„æ–¹å¼å°è£…ä¸€ä¸ªç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶èƒ½ç»„ç»‡å¥½å®ƒè‡ªèº«çš„ HTML ç»“æ„ã€CSS æ ·å¼ã€JavaScript ä»£ç ï¼Œå¹¶ä¸”ä¸ä¼šå¹²æ‰°é¡µé¢ä¸Šçš„å…¶ä»–å…ƒç´ ã€‚è¿™æ„å‘³ç€ä½ æ— éœ€ React æˆ– Angular ç­‰æ¡†æ¶ä¹Ÿèƒ½åˆ›å»ºç»„ä»¶ã€‚ä¸ä»…å¦‚æ­¤ï¼Œè¿™äº›ç»„ä»¶è¿˜éƒ½å¯ä»¥æ— ç¼é›†æˆåˆ°è¿™äº›æ¡†æ¶ä¸­ï¼Œå¹¶æ”¯æŒè·¨å¹³å°ã€‚Web Components ä¸»è¦ç”±ä»¥ä¸‹å››ç§æŠ€æœ¯ç»„æˆ:</p>

<ul>
  <li><strong>Custom elements(è‡ªå®šä¹‰å…ƒç´ )</strong> - ä¸€ç»„ JavaScript APIï¼Œå…è®¸æ‚¨å®šä¹‰ custom elements åŠå…¶è¡Œä¸ºï¼Œç„¶åå¯ä»¥åœ¨æ‚¨çš„ç”¨æˆ·ç•Œé¢ä¸­æŒ‰ç…§éœ€è¦ä½¿ç”¨å®ƒä»¬
    <ul>
      <li>Custom Elements å¯ä»¥ç»§æ‰¿åŸç”Ÿ HTMLElement ç±»å’Œå…¶å­ç±»ã€‚</li>
      <li>é€šè¿‡ <code class="highlighter-rouge">customElements.define()</code> ç»´æŠ¤è‡ªå®šä¹‰æ ‡ç­¾æ³¨å†Œè¡¨ã€‚</li>
      <li>ç‰¹å®šç”Ÿå‘½å‘¨æœŸå‡½æ•°åœ¨æ ‡ç­¾åˆ›å»ºã€æ·»åŠ åˆ° DOMã€å±æ€§è¢«ä¿®æ”¹ç­‰æ—¶åˆ»è°ƒç”¨</li>
    </ul>
  </li>
  <li><strong>Shadow DOM(å½±å­ DOM)</strong> - ä¸€ç»„ JavaScript APIï¼Œç”¨äºå°†å°è£…çš„â€œå½±å­â€ DOM æ ‘é™„åŠ åˆ°å…ƒç´ (ä¸ä¸»æ–‡æ¡£ DOM åˆ†å¼€å‘ˆç°)å¹¶æ§åˆ¶å…¶å…³è”çš„åŠŸèƒ½ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ‚¨å¯ä»¥ä¿æŒå…ƒç´ çš„åŠŸèƒ½ç§æœ‰ï¼Œè¿™æ ·å®ƒä»¬å°±å¯ä»¥è¢«è„šæœ¬åŒ–å’Œæ ·å¼åŒ–ï¼Œè€Œä¸ç”¨æ‹…å¿ƒä¸æ–‡æ¡£çš„å…¶ä»–éƒ¨åˆ†å‘ç”Ÿå†²çª</li>
  <li><strong>HTML templates(HTML æ¨¡æ¿)</strong> - <code class="highlighter-rouge">&lt;template&gt;</code> å’Œ <code class="highlighter-rouge">&lt;slot&gt;</code> å…ƒç´ ä½¿æ‚¨å¯ä»¥ç¼–å†™ä¸åœ¨å‘ˆç°é¡µé¢ä¸­æ˜¾ç¤ºçš„æ ‡è®°æ¨¡æ¿ã€‚ç„¶åå®ƒä»¬å¯ä»¥ä½œä¸ºè‡ªå®šä¹‰å…ƒç´ ç»“æ„çš„åŸºç¡€è¢«å¤šæ¬¡é‡ç”¨</li>
  <li><strong>HTML Imports(HTML å¯¼å…¥)</strong> - ä¸€æ—¦å®šä¹‰äº†è‡ªå®šä¹‰ç»„ä»¶ï¼Œæœ€ç®€å•çš„é‡ç”¨å®ƒçš„æ–¹æ³•å°±æ˜¯ä½¿å…¶å®šä¹‰ç»†èŠ‚ä¿å­˜åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œç„¶åä½¿ç”¨å¯¼å…¥æœºåˆ¶å°†å…¶å¯¼å…¥åˆ°æƒ³è¦å®é™…ä½¿ç”¨å®ƒçš„é¡µé¢ä¸­</li>
</ul>

<h3 id="custom-elements">Custom elements</h3>

<p>è¦æ³¨å†Œä¸€ä¸ªæ–°å…ƒç´ æ—¶ï¼Œéœ€è¦é€šè¿‡ <code class="highlighter-rouge">window.customElements</code> è·å–æ³¨å†Œè¡¨å®ä¾‹å¹¶è°ƒç”¨å…¶ <code class="highlighter-rouge">define</code> æ–¹æ³•:</p>

<pre><code class="language-JS">// &lt;my-element&gt;&lt;/my-element&gt;

window.customElements.define('my-element', MyElement);
</code></pre>

<blockquote>
  <p>ä¸ºäº†é¿å…æœªæ¥çš„å†²çªï¼Œæ‰€æœ‰è‡ªå®šä¹‰æ ‡ç­¾å¿…é¡»åŠ è¿è¯ç¬¦ <strong>-</strong>ï¼ŒåŒæ—¶åŸç”Ÿ HTML æ ‡ç­¾ä¿è¯ç»ä¸åŒ…å«æ­¤ç±»è¿è¯ç¬¦</p>
</blockquote>

<p>ç°åœ¨é¡µé¢ä¸Šçš„æ¯ä¸ª <code class="highlighter-rouge">&lt;my-element&gt;</code> æ ‡ç­¾éƒ½ä¸ä¸€ä¸ª MyElement å…ƒç´ å¯¹åº”ã€‚ é¡µé¢æ¯è§£æä¸€ä¸ªè¯¥æ ‡ç­¾å°±è°ƒç”¨ä¸€æ¬¡ MyElement çš„æ„é€ å‡½æ•°ã€‚é™¤äº†æ ‡ç­¾åˆ›å»ºæ—¶ä¼šè°ƒç”¨æ„é€ å‡½æ•°ï¼Œè¿˜æœ‰ä¸€ç³»åˆ—ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¼šåœ¨ç‰¹å®šæ—¶åˆ»è¢«è°ƒç”¨:</p>

<ul>
  <li><strong>connectedCallback</strong> - å½“å…ƒç´ è¢«æ·»åŠ åˆ°æ–‡æ¡£ä¸­æ—¶è°ƒç”¨ã€‚è¿™ä¸ªå‡½æ•°å¯èƒ½å¤šæ¬¡è°ƒç”¨ï¼Œæ¯”å¦‚æ ‡ç­¾ç§»åŠ¨ã€ç§»é™¤æˆ–é‡æ–°æ·»åŠ æ—¶</li>
  <li><strong>disconnectedCallback</strong> - ä¸ connectedCallback ç›¸å¯¹åº”</li>
  <li><strong>attributeChangeCallback</strong> - å…ƒç´ å±æ€§æ›´æ”¹æ—¶è°ƒç”¨</li>
</ul>

<pre><code class="language-JS">class GreetingElement extends HTMLElement {
  constructor() {
    super();
    this._name = 'Stranger';
  }
  connectedCallback() {
    this.addEventListener('click', e =&gt; alert(`Hello, ${this._name}!`));
  }
  attributeChangedCallback(attrName, oldValue, newValue) {
    if (attrName === 'name') {
      if (newValue) {
        this._name = newValue;
      } else {
        this._name = 'Stranger';
      }
    }
  }
  doSomething() { // åˆ›å»ºå…¬å…± API
    // do something in this method
  }
}
// ä¸€æ—¦å±æ€§çš„å€¼å‘ç”Ÿå˜åŠ¨ï¼Œå°±å°†ä½¿ç”¨å±æ€§çš„åç§°ã€å…¶å½“å‰å€¼åŠå…¶æ–°å€¼è°ƒç”¨ attributeChangedCallback
GreetingElement.observedAttributes = ['name'];
customElements.define('hey-there', GreetingElement);
</code></pre>

<pre><code class="language-JS">// ä»å¤–éƒ¨ç»„ä»¶è°ƒç”¨å®šä¹‰çš„ API
const element = document.querySelector('my-element');
element.doSomething();
</code></pre>

<p>å¦‚æœè¦ç»§æ‰¿ä¸€ä¸ª HTML åŸç”Ÿæ ‡ç­¾ï¼Œä½ å¯èƒ½ä¼šæƒ³å®šä¹‰ä¸€ä¸ªçœ‹èµ·æ¥å®Œå…¨ä¸åŒæ–°æ ‡ç­¾ã€‚æ¯”å¦‚è®© <code class="highlighter-rouge">&lt;hey-there&gt;</code> å»ç»§æ‰¿ <code class="highlighter-rouge">&lt;button&gt;</code>:</p>

<pre><code class="language-JS">class GreetingElement extends HTMLButtonElement {...}

// åŒæ—¶è¦åœ¨è‡ªå®šä¹‰æ ‡ç­¾æ³¨å†Œè¡¨ä¸­ä½“ç°å‡ºç»§æ‰¿ä¸€ä¸ªå·²æœ‰æ ‡ç­¾
customElements.define('hey-there', GreetingElement, { extends: 'button' });
</code></pre>

<p>æˆ‘ä»¬åº”è¯¥ç”¨è¢«ç»§æ‰¿çš„æ ‡ç­¾åŠ  <strong>is</strong> å±æ€§æ¥è¡¨ç¤ºè¿™ç§ç»§æ‰¿å…³ç³»ï¼Œè€Œä¸æ˜¯ç›´æ¥ç”¨è‡ªå®šä¹‰æ ‡ç­¾:</p>

<pre><code class="language-HTML">&lt;button is="hey-there" name="World"&gt;Howdy&lt;/button&gt;
</code></pre>

<h3 id="shadow-dom">Shadow DOM</h3>

<p>æˆ‘ä»¬å†™å‡ºäº†å‹å¥½çš„ custom elementï¼Œä¹Ÿä¸ºå…¶æ·»åŠ äº†æ¼‚äº®çš„æ ·å¼ã€‚ç°åœ¨æˆ‘ä»¬æƒ³æŠŠå®ƒç”¨åœ¨æˆ‘ä»¬çš„ç«™ç‚¹ä¸Šï¼Œä¹Ÿæƒ³æŠŠä»£ç åˆ†äº«å‡ºå»ï¼Œè®©æ›´å¤šçš„äººç”¨åœ¨ä»–ä»¬çš„ç½‘ç«™ä¸Šã€‚ä½†æ˜¯æˆ‘ä»¬æ€ä¹ˆé¿å…è‡ªå®šä¹‰ <code class="highlighter-rouge">&lt;button&gt;</code> æ ‡ç­¾å’Œå…¶ä»–ç½‘ç«™çš„ css å†²çªï¼Ÿç­”æ¡ˆæ˜¯ä½¿ç”¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/Web_Components/%E5%BD%B1%E5%AD%90_DOM"><strong>Shadow DOM</strong></a>ã€‚</p>

<p>Shadow DOM æ ‡å‡†æå‡ºäº† <strong>shadow root(å½±å­æ ¹)</strong> çš„æ¦‚å¿µã€‚ä½¿ç”¨ Shadow DOM æ—¶ï¼Œè‡ªå®šä¹‰å…ƒç´ çš„ HTML å’Œ CSS ä¼šå®Œå…¨å°è£…åœ¨ç»„ä»¶å†…éƒ¨ã€‚è¿™æ„å‘³ç€è¯¥å…ƒç´ å°†åœ¨æ–‡æ¡£çš„ DOM æ ‘ä¸­æ˜¾ç¤ºä¸ºå•ä¸ª HTML æ ‡ç­¾ï¼Œå…¶å†…éƒ¨ HTML ç»“æ„åˆ™æ”¾åœ¨ä¸€ä¸ª <strong>#shadow-root</strong> ä¸­:</p>

<pre><code class="language-HTML">&lt;div class="shadow-host"&gt;Hello, world!&lt;/div&gt;
&lt;script&gt;
  // å½±å­å®¿ä¸»ï¼ˆshadow hostï¼‰
  var shadowHost = document.querySelector('.shadow-host');
  // åˆ›å»ºå½±å­æ ¹ï¼ˆshadow rootï¼‰
  // createShadowRoot æ–¹æ³•å·²å¼ƒç”¨
  // var shadowRoot = shadowHost.createShadowRoot();
  var shadowRoot = shadowHost.attachShadow({ mode: 'open' });
  // shadowHost.shadowRoot // the shadow root. è‹¥é€‰æ‹© closedï¼Œåˆ™ä¸º null
  // shadowHost.shadowRoot.host // the el itself.
  // å½±å­æ ¹ä½œä¸ºå½±å­æ ‘çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå…¶ä»–çš„èŠ‚ç‚¹æ¯”å¦‚pèŠ‚ç‚¹éƒ½æ˜¯å®ƒçš„å­èŠ‚ç‚¹ã€‚
  shadowRoot.innerHTML = '&lt;p class="shadow-root"&gt;Shadow DOM&lt;/p&gt;';
&lt;/script&gt;
</code></pre>

<p>å½“æˆ‘ä»¬é€šè¿‡å¸¸è§„é€‰æ‹©å™¨é€‰æ‹© shadow DOM é‡Œçš„å…ƒç´ æ—¶ï¼Œä¼šå‘ç°æ— æ³•è·å–:</p>

<pre><code class="language-JS">document.querySelector('.shadow-root') // null

// è‹¥è¦è·å–çš„è¯ï¼Œéœ€è¦é€šè¿‡ shadowRoot
var container = document.querySelector('.shadow-host')
container.shadowRoot.querySelector('shadow-root')
</code></pre>

<blockquote>
  <p><code class="highlighter-rouge">mode: open</code> å¯ä»¥åœ¨å¼€å‘å·¥å…·ä¸­æ£€æŸ¥ï¼Œå¹¶é€šè¿‡æŸ¥è¯¢ã€é…ç½®ä»»ä½•å…¬å¼€çš„ CSS å±æ€§æˆ–ç›‘å¬å®ƒæŠ›å‡ºçš„äº‹ä»¶æ¥äº¤äº’ï¼Œåä¹‹åˆ™æ˜¯ â€˜closedâ€™</p>
</blockquote>

<p>æˆ‘ä»¬å¯ä»¥éšä¾¿æ‰¾ä¸€ä¸ªè§†é¢‘ï¼Œæ‰¾åˆ° <code class="highlighter-rouge">video</code> æ ‡ç­¾ï¼Œç„¶ååœ¨æµè§ˆå™¨è®¾ç½®é‡Œå¼€å¯ <code class="highlighter-rouge">Show user agent shadow DOM</code>ï¼Œæˆ‘ä»¬ä¼šå‘ç°è§†é¢‘æ ‡ç­¾ä¸‹ä¹Ÿè—äº†åµŒå¥—çš„ shadow DOM:</p>

<p><img src="https://cdn-images-1.medium.com/max/1600/1*h6j3PjczSAfh8jkPYRWMVQ.jpeg" alt="video" /></p>

<p><strong>ç»„åˆ(Composition)</strong> æ˜¯å°† Shadow DOM æ ‘ä¸ç”¨æˆ·æä¾›çš„æ ‡è®°ç»„åˆåœ¨ä¸€èµ·çš„è¿‡ç¨‹ã€‚è¿™æ˜¯é€šè¿‡æ’æ§½ <code class="highlighter-rouge">&lt;slot&gt;</code> å…ƒç´ å®Œæˆçš„ï¼Œè¯¥å…ƒç´ æœ¬è´¨ä¸Šæ˜¯ Shadow DOM ä¸­çš„å ä½ç¬¦ï¼Œå…¶ä¸­å‘ˆç°ç”¨æˆ·æä¾›çš„æ ‡è®°:</p>

<pre><code class="language-HTML">&lt;!-- å¸¦æœ‰åå­—çš„ slot --&gt;
&lt;image-gallery&gt;
  &lt;img src="foo.jpg" slot="image"&gt;
  &lt;img src="b.arjpg" slot="image"&gt;
&lt;/image-gallery&gt;
</code></pre>

<p>å¸¦æœ‰åç§°çš„ slot å‘Šè¯‰ç»„ä»¶åº”è¯¥åœ¨å…¶ Shadow DOM ä¸­çš„ä»€ä¹ˆä½ç½®å‘ˆç°å®ƒä»¬:</p>

<pre><code class="language-HTML">&lt;div id="container"&gt;
  &lt;div class="images"&gt;
    &lt;slot name="image"&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;!-- ç”Ÿæˆ --&gt;
&lt;div id="container"&gt;
  &lt;div class="images"&gt;
    &lt;slot name="image"&gt;
      &lt;img src="foo.jpg" slot="image"&gt;
      &lt;img src="bar.jpg" slot="image"&gt;
    &lt;/slot&gt;
  &lt;/div&gt;
&lt;/div&gt;

</code></pre>

<h2 id="vue-scoped--module">Vue scoped &amp; module</h2>

<p>Vue ä¸»å¼ ä¸ºç»„ä»¶æ ·å¼<a href="https://vue-loader-v14.vuejs.org/zh-cn/features/scoped-css.html">è®¾ç½®ä½œç”¨åŸŸ</a>ï¼Œå¯¹äºåº”ç”¨æ¥è¯´ï¼Œé¡¶çº§ App ç»„ä»¶å’Œå¸ƒå±€ç»„ä»¶ä¸­çš„æ ·å¼å¯ä»¥æ˜¯å…¨å±€çš„ï¼Œä½†æ˜¯å…¶å®ƒæ‰€æœ‰ç»„ä»¶éƒ½åº”è¯¥æ˜¯æœ‰ä½œç”¨åŸŸçš„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <strong>scoped</strong> ç‰¹æ€§æ¥å®ç°éš”ç¦»ä½œç”¨åŸŸ:</p>

<pre><code class="language-HTML">&lt;!-- ä½¿ç”¨ `scoped` ç‰¹æ€§ï¼Œè¿™ç±»ä¼¼äº Shadow DOM ä¸­çš„æ ·å¼å°è£… --&gt;
&lt;template&gt;
  &lt;div class="example"&gt;hi&lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
.example {
  color: red;
}
&lt;/style&gt;

</code></pre>

<p>ç”±äº <strong>vue-loader</strong> å†…éƒ¨é€šè¿‡ <strong>PostCSS</strong> å¤„ç†å…¶æ ·å¼ï¼Œé€šè¿‡å®ƒæ¥å®ç°ä»¥ä¸‹è½¬æ¢:</p>

<pre><code class="language-HTML">&lt;template&gt;
  &lt;div class="example" data-v-f3f3eg9&gt;hi&lt;/div&gt;
&lt;/template&gt;

&lt;style&gt;
.example[data-v-f3f3eg9] {
  color: red;
}
&lt;/style&gt;
</code></pre>

<p>å¦‚æœä½ å¸Œæœ› scoped æ ·å¼ä¸­çš„ä¸€ä¸ªé€‰æ‹©å™¨èƒ½å¤Ÿä½œç”¨å¾—â€œæ›´æ·±â€ï¼Œä¾‹å¦‚å½±å“å­ç»„ä»¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code class="highlighter-rouge">&gt;&gt;&gt;</code> æˆ– <code class="highlighter-rouge">/deep/</code> æ“ä½œç¬¦æ¥å®ç°<strong>æ·±åº¦ä½œç”¨é€‰æ‹©å™¨</strong>:</p>

<pre><code class="language-HTML">&lt;style scoped&gt;
  .a &gt;&gt;&gt; .b { /* ... */ }
&lt;/style&gt;
</code></pre>

<p><img src="https://i.loli.net/2019/04/14/5cb20b40b206e.png" alt="vue-scoped.png" /></p>

<p>å½“ç„¶å®˜æ–¹è¿˜æ˜¯æ›´<a href="https://cn.vuejs.org/v2/style-guide/#ä¸ºç»„ä»¶æ ·å¼è®¾ç½®ä½œç”¨åŸŸ-å¿…è¦">æ¨èä¸€äº›åŸºäº class çš„ç­–ç•¥</a>ï¼Œæ¯”å¦‚ä¸Šé¢æåˆ°çš„ <a href="https://vue-loader-v14.vuejs.org/zh-cn/features/css-modules.html"><strong>CSS Modules</strong></a>ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨äºæ¨¡å—åŒ–å’Œç»„åˆ CSS çš„æµè¡Œç³»ç»Ÿã€‚<strong>vue-loader</strong> æä¾›äº†ä¸ CSS æ¨¡å—çš„ä¸€æµé›†æˆï¼Œå¯ä»¥ä½œä¸ºæ¨¡æ‹Ÿ CSS ä½œç”¨åŸŸçš„æ›¿ä»£æ–¹æ¡ˆ:</p>

<pre><code class="language-HTML">&lt;template&gt;
  &lt;button :class="[$style.button, $style.buttonClose]"&gt;X&lt;/button&gt;
&lt;/template&gt;

&lt;!-- ä½¿ç”¨ CSS Modules --&gt;
&lt;!-- å°†ä¸º css-loader æ‰“å¼€ CSS Modules æ¨¡å¼ï¼Œç”Ÿæˆçš„ CSS å¯¹è±¡å°†ä¸ºç»„ä»¶æ³¨å…¥ä¸€ä¸ªåå« $style çš„è®¡ç®—å±æ€§ï¼Œä½ å¯ä»¥åœ¨ä½ çš„æ¨¡å—ä¸­ä½¿ç”¨åŠ¨æ€ class ç»‘å®š --&gt;
&lt;style module&gt;
.button {
  border: none;
  border-radius: 2px;
}

.buttonClose {
  background-color: red;
}
&lt;/style&gt;

&lt;!-- ä¹Ÿå¯ä»¥åœ¨ JS ä¸­è®¿é—® $style å±æ€§ --&gt;
&lt;script&gt;
export default {
  created () {
    console.log(this.$style.button)
    // -&gt; "HelloWorld_color_1DT2e"
    // an identifier generated based on filename and className.
  }
}
&lt;/script&gt;
</code></pre>

<p><img src="https://i.loli.net/2019/04/13/5cb1ff30c1374.png" alt="vue-css-module.png" /></p>

<p>å½“ç„¶ä½ å¯ä»¥å®šä¹‰ä¸æ­¢ä¸€ä¸ª &lt;style&gt;ï¼Œä¸ºäº†é¿å…è¢«è¦†ç›–ï¼Œä½ å¯ä»¥é€šè¿‡è®¾ç½® module å±æ€§æ¥ä¸ºå®ƒä»¬å®šä¹‰æ³¨å…¥åè®¡ç®—å±æ€§çš„åç§°:</p>

<pre><code class="language-HTML">&lt;template&gt;
  &lt;button :class="a.button"&gt;X&lt;/button&gt;
  &lt;button :class="b.button"&gt;X&lt;/button&gt;
&lt;/template&gt;

&lt;style module="a"&gt;
  /* identifiers injected as a */
&lt;/style&gt;

&lt;style module="b"&gt;
  /* identifiers injected as b */
&lt;/style&gt;
</code></pre>

<h2 id="angular-viewencapsulation">Angular ViewEncapsulation</h2>

<p>Angular é‡‡ç”¨äº†è§†å›¾å°è£…çš„æšä¸¾ç±»å‹ <strong>ViewEncapsulation</strong>ï¼Œå¯ä»¥æœ‰ä»¥ä¸‹ä¸‰ç§å€¼:</p>

<ul>
  <li><strong>ViewEncapsulation.Emulated</strong> - é»˜è®¤é¡¹ï¼Œæ—  Shadow DOMï¼Œä½†æ˜¯é€šè¿‡ Angular æä¾›çš„æ ·å¼åŒ…è£…æœºåˆ¶æ¥å°è£…ç»„ä»¶ï¼Œä½¿å¾—ç»„ä»¶çš„æ ·å¼ä¸å—å¤–éƒ¨å½±å“</li>
  <li><strong>ViewEncapsulation.Native</strong> - ä½¿ç”¨åŸç”Ÿçš„ Shadow DOM ç‰¹æ€§ã€‚å·²å¼ƒç”¨ï¼Œæ”¹ä¸º <strong>ShadowDom</strong></li>
  <li><strong>ViewEncapsulation.None</strong> - æ—  Shadow DOMï¼Œå¹¶ä¸”ä¹Ÿæ— æ ·å¼åŒ…è£…</li>
</ul>

<pre><code class="language-JS">import { Component, ViewEncapsulation } from '@angular/core';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.less'],
  encapsulation: ViewEncapsulation.None,
})
export class AppComponent {
  title = 'angular-demo';
}
</code></pre>

<p>æ¥ä¸‹æ¥æˆ‘ä»¬å¯¹æ¯”ä¸‹ä¸‰ç§è®¾ç½®ä¸‹çš„ HTMLï¼Œé¦–å…ˆæ˜¯è®¾ç½®ä¸º None:</p>

<p><img src="https://i.loli.net/2019/04/13/5cb1c54c0b16a.png" alt="ViewEncapsulation-Native.png" /></p>

<p>è®¾ç½®ä¸º Emulatedï¼Œæ³¨æ„çœ‹æ ·å¼å˜æˆäº†:</p>

<pre><code class="language-CSS">/* å¯¹åº” html ä¸­çš„ _ngcontent-kty-c0 å±æ€§ */
.test[_ngcontent-kty-c0] {...}
</code></pre>

<p><img src="https://i.loli.net/2019/04/13/5cb1c54c08ea9.png" alt="ViewEncapsulation-Emulated.png" /></p>

<p>è®¾ç½®ä¸º Native:</p>

<p><img src="https://i.loli.net/2019/04/13/5cb1c54c0d6aa.png" alt="ViewEncapsulation-None.png" /></p>

<h2 id="react-css-in-js">React CSS-in-JS</h2>

<p>React ä¸€ç›´æ¨å´‡ç»„ä»¶åŒ–æ€æƒ³ï¼Œå°†ä¸‰ç§è¯­è¨€èåˆåˆ°ä¸€èµ·ï¼Œä»è€Œåˆ›å»ºå‡ºæ²¡æœ‰å¤–éƒ¨ä¾èµ–çš„ç‹¬ç«‹å¯å¤ç”¨çš„ç»„ä»¶ã€‚React ä¸ä»…ä»…å°è£…äº† HTMLï¼Œå³ <code class="highlighter-rouge">JSX</code>(å…·ä½“å¯ä»¥<a href="http://localhost:4000/2018/08/06/react-profile.html#jsx">æŸ¥çœ‹è¿™ä¸€èŠ‚</a>)ï¼Œä¹Ÿå°è£…äº† CSSï¼Œå…¶å®å°±æ˜¯ç®€å•å®šä¹‰ä¸€ä¸ªæ ·å¼å¯¹è±¡:</p>

<pre><code class="language-JS">const style = {
  color: 'orange',
  fontSize: '12px',
}

function App() {
  return (
    &lt;div style={style}&gt;hello&lt;/div&gt;
  )
}
</code></pre>

<blockquote>
  <p>æ ·å¼å¯¹è±¡é‡Œçš„å†™æ³•ï¼Œæ¯”å¦‚ fontSizeï¼Œå…¶å®å°±æ˜¯é€šè¿‡ style å¯ä»¥è®¿é—®çš„<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Properties_Reference">æ ·å¼å±æ€§åˆ—è¡¨</a> ğŸ‘ˆ</p>
</blockquote>

<h3 id="styled-components">styled-components</h3>

<p>è¿™ç§å°è£…çš„ CSS å†™æ³•ä¼¼ä¹åˆå›åˆ°äº†è§£æ”¾å‰ï¼Œä¸ºäº†åŠ å¼º React çš„ CSS æ“ä½œï¼Œä¸€ç³»åˆ—ç¬¬ä¸‰æ–¹åº“åº”è¿è€Œç”Ÿã€‚github æœ‰ä¸ªé¡¹ç›®ä¹Ÿå¯¹è¿™äº›åº“åšäº†ä¸ªæ•´ç†ï¼Œå¯ä»¥<a href="https://github.com/MicheleBertoli/css-in-js">ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹</a>ï¼Œå…¶ä¸­æ¯”è¾ƒç«çš„æœ‰ <a href="https://github.com/styled-components/styled-components"><strong>styled-components</strong></a>:</p>

<pre><code class="language-JSX">import React from 'react';
import styled from 'styled-components';

// Create a &lt;Title&gt; react component that renders an &lt;h1&gt; which is centered, palevioletred and sized at 1.5em
// Returns a function that accepts a tagged template literal and turns it into a StyledComponent
const Title = styled.h1`
  font-size: 1.5em;
  text-align: center;
  color: palevioletred;
`;

// Create a &lt;Wrapper&gt; react component that renders a &lt;section&gt; with some padding and a papayawhip background
const Wrapper = styled.section`
  padding: 4em;
  background: papayawhip;
`;

const OrangeTitle = styled(Title)`
  color: orange;
`

// Use them like any other React component â€“ except they're styled!
&lt;Wrapper&gt;
  &lt;Title&gt;Hello World, this is my first styled component!&lt;/Title&gt;
&lt;/Wrapper&gt;
</code></pre>

<p>å½“ç„¶ï¼Œå®ƒè¿˜æ”¯æŒä¸€äº›æ›´å¤æ‚çš„å†™æ³•ï¼Œæ¯”å¦‚ä¼ å‚:</p>

<pre><code class="language-JSX">const padding = '3em'

const Section = styled.section`
  color: white;

  /* Pass variables as inputs */
  padding: ${padding};

  /* Adjust the background from the properties */
  background: ${props =&gt; props.background};
`

render(
  &lt;Section background="cornflowerblue"&gt;
    âœ¨ Magic
  &lt;/Section&gt;
)
</code></pre>

<p>è®©æˆ‘ä»¬å†çœ‹çœ‹å®ƒæ˜¯æ€ä¹ˆåšåˆ°éš”ç¦»ä½œç”¨åŸŸçš„:</p>

<p><img src="https://i.loli.net/2019/05/06/5ccfb1688cf4d.png" alt="styled-components.png" /></p>

<blockquote>
  <p>styled-components è¿™ç§æ ·å¼å†™æ³•å…¶å®å°±æ˜¯ ES6 é‡Œçš„<a href="http://localhost:4000/2018/03/15/es6-extension-previous.html#æ ‡ç­¾æ¨¡æ¿">æ ‡ç­¾æ¨¡æ¿(tagged template)</a>ï¼Œæ›´å¤šçš„ API ä¹Ÿ<a href="https://www.styled-components.com/docs/api">å¯ä»¥å‚è€ƒè¿™é‡Œ</a> ğŸ‘ˆ</p>
</blockquote>

<h3 id="jss">JSS</h3>

<p><strong>material-ui</strong> UI æ¡†æ¶é€šè¿‡ <strong>JSS</strong> ä¹Ÿå®ç°äº† CSS in JS çš„å†™æ³•ï¼Œå…·ä½“<a href="http://localhost:4000/2018/08/13/react-material-ui.html#jss">å¯ä»¥æŸ¥çœ‹è¿™ä¸€ç¯‡</a> ğŸ‘ˆ</p>

<p>ä½†æ˜¯ Material-UI çš„æ ·å¼è§£å†³æ–¹æ¡ˆå—åˆ°è®¸å¤šå…¶ä»– CSS-in-JS åº“çš„å¯å‘ï¼Œä¾‹å¦‚ä¸Šé¢æåˆ°çš„ styled-componentsï¼Œè¿™äº›ä»åœ¨<a href="https://material-ui.com/css-in-js/basics/">å®éªŒç‰ˆæœ¬ä¸­</a> ğŸ‘ˆ</p>

<p>åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿçœ‹çœ‹å®ƒæ€ä¹ˆåšåˆ°éš”ç¦»ä½œç”¨åŸŸçš„ï¼Œæ¯”å¦‚ <code class="highlighter-rouge">CouponComponent</code> ç»„ä»¶ï¼Œæ·»åŠ ä¸€ä¸ªåä¸º <code class="highlighter-rouge">title</code> çš„æ ·å¼:</p>

<pre><code class="language-JSX">const styles = {
  title: {
    height: '55px',
    lineHeight: '60px',
    fontSize: '18px',
    textIndent: '1em',
  },
}
...
return {
  ...
  &lt;div className={classes.title} style=&gt;{titleName}&lt;/div&gt;
}
</code></pre>

<p>æˆ‘ä»¬å¯ä»¥ä»ä¸‹å›¾çœ‹åˆ°ç±»åä¿®æ”¹çš„è§„åˆ™ä¸º <code class="highlighter-rouge">ç»„ä»¶å + ç±»å + å››ä½éšæœºæ•°å­—</code>:</p>

<p><img src="https://i.loli.net/2019/05/06/5ccfd9a2749b2.png" alt="material-ui-jss.png" /></p>

<h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h2>

<ol>
  <li><a href="https://www.infoq.cn/article/LlxdiogqZvvci57_ZgJm">ä½ çš„å‰ç«¯æ¡†æ¶è¦è¢« Web ç»„ä»¶å–ä»£äº†</a> By Danny Moerkerke</li>
  <li><a href="https://juejin.im/post/5c4a972b6fb9a049a7122eb7">[è¯‘]ç»„ä»¶åŒ–å¼€å‘åˆ©å™¨ï¼šWeb Components æ ‡å‡†</a> By è€æ²™322</li>
  <li><a href="https://segmentfault.com/a/1190000008677532">Angular 2 ViewEncapsulation</a> By Semlinker</li>
  <li><a href="https://aotu.io/notes/2016/06/24/Shadow-DOM/">ç¥å¥‡çš„ Shadow DOM</a> By æš–æš–</li>
  <li><a href="https://imweb.io/topic/586519b1b3ce6d8e3f9f99aa">CSS Modules ä½¿ç”¨è¯¦è§£</a> By å¼ é¢–</li>
  <li><a href="https://gist.github.com/praveenpuglia/0832da687ed5a5d7a0907046c9ef1813">praveenpuglia/shadow-dom.md - github</a></li>
</ol>
 
<div id="gitalk-container"></div>
<script>
    var gitalk = new Gitalk({
      enable: true,
      clientID: '020f142489f80c92b097',
      clientSecret: '1fa083372b44031cf1b8249251515c4e3d54c69d',
      repo: 'tate-young.github.io',
      owner: 'Tate-Young',
      admin: ['Tate-Young'],
      id: location.pathname,      // Ensure uniqueness and length less than 50
      distractionFreeMode: false  // Facebook-like distraction free mode
    })

    gitalk.render('gitalk-container')
</script>
<!-- disqus -->
<!-- <div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */

    var disqus_config = function () {
        this.page.url = 'https://tate-young.github.io/2019/04/13/css-in-js.html';
        this.page.identifier = '/2019/04/13/css-in-js';
        this.page.title = 'CSS in JS';
    };

    (function () { // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document,
            s = d.createElement('script');

        s.src = '//tate.disqus.com/embed.js'; // IMPORTANT: Replace EXAMPLE with your forum shortname!

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript> -->


            <!-- <p class="post-info">
			æœ¬æ–‡ç”± <a href="/">liberxue</a> åˆ›ä½œï¼Œé‡‡ç”¨ <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="external nofollow">çŸ¥è¯†å…±äº«ç½²å4.0</a> å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯<br>æœ¬ç«™æ–‡ç« é™¤æ³¨æ˜è½¬è½½/å‡ºå¤„å¤–ï¼Œå‡ä¸ºæœ¬ç«™åŸåˆ›æˆ–ç¿»è¯‘ï¼Œè½¬è½½å‰è¯·åŠ¡å¿…ç½²å<br>æœ€åç¼–è¾‘æ—¶é—´ä¸º:2019-04-13 19:46:00</p> -->
        </div>
    </article>

    <!-- <div class="related-post-lists">
	<div class="post-lists">
		<div class="post-lists-body">
					<div class="post-list-item">
				<div class="post-list-item-container">
					<div class="item-label">
						<div class="item-title"><a href="induction.html">å½’çº³çš„éšæƒ³</a></div>
						<div class="item-meta clearfix">
														<div class="item-meta-ico bg-ico-image" style="background: url('../usr/themes/pinghsu/images/bg-ico.png') no-repeat;background-size: 40px auto;"></div>
	                        							<div class="item-meta-cat"><a href="../category/thoughts/index.html">Thoughts</a></div>
						</div>
					</div>
				</div>
			</div>
				</div>
	</div>
</div> -->

    <!-- <footer class="footer bg-white">
	<div class="footer-social">
		<div class="footer-container clearfix">
			<div class="social-list">
	 <a class="social segmentfault" target="blank" href="https://segmentfault.com/u/liberxue" title="è®¿é—® LiberXue_Twitter" data-hover="Segmentfault">Segmentfault</a>
    <a class="social github" target="blank" href="https://github.com/liberxue" title="è®¿é—® LiberXue_Twitter" data-hover="GitHub">GitHub</a>
    <a class="social twitter" target="blank" href="http://twitter.com/liberxue" title="è®¿é—® LiberXue_Twitter" data-hover="Twitter">Twitter</a>
     <a class="social stackoverflow" target="blank" href="https://stackoverflow.com/users/6902190/liberxue" title="è®¿é—® LiberXue_stackoverflow" data-hover="StackOverflow">StackOverflow</a>
          <a class="social oschina" target="blank" href="https://my.oschina.net/bolanzw" title="è®¿é—® LiberXue_Oschina" data-hover="Oschina">Oschina</a>
     <a class="social rss" target="blank" href="/feed.xml"title="è®¿é—® LiberXue_RSS" data-hover="RSS">RSS</a>
	</div>
		</div>
	</div>
	<div class="footer-meta">
        <div class="footer-container">
            <div class="meta-item meta-copyright">
                <div class="meta-copyright-info">
                    <a href="/" class="info-logo">
                         <img src="http://localhost:4000/style/images/logo-liberxue.png"   title="è®¿é—® LiberXue_blog" data-hover="LiberXue_blog" alt="LiberXue_blog" /> </a>
                    <div class="info-text">
                        <p>Theme is <a href="http://www.liberxue.com/2017/08/03/Jekyllthemes.html" title="è®¿é—® Jekyll liberxueä¸»é¢˜"  data-hover="Jekyll liberxue"target="_blank">Jekyll liberxue</a> by <a href="http://www.liberxue.com/about" target="_blank">liberxue</a></p>
                        <p>Powered by <a href="http://localhost:4000/tags/#Jekyll" title="Jekyll" data-hover="Jekyll" target="_blank" rel="nofollow">Jekyll</a></p>
                        <p>&copy; 2017 <a href="/feed.xml"  title="è®¿é—® liberxue blog RSS" data-hover="liberxue blog RSS">liberxue blog RSS</a></p>
                        <p>æ€»è®¡æ–‡ç« ï¼šç¯‡</p>
                      <p>æœ¬blogå·²å¼€æºç‚¹å‡»Fork</p><iframe src="http://ghbtns.com/github-btn.html?user=liberxue&repo=liberxue.github.io&type=fork&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe>
                    </div>
                </div>
            </div>
            <div class="meta-item meta-posts">
                <h3 class="meta-title">ç½®é¡¶æ–‡ç« </h3>
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
            </div>
            <div class="meta-item meta-comments">
                <h3 class="meta-title">æœ€æ–°æ–‡ç« </h3>
  
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
</div>
		</div>
    </div>
</footer> -->
<script src="//cdn.bootcss.com/jquery/2.2.2/jquery.min.js"></script>
<script src="//cdn.bootcss.com/bootstrap-3-typeahead/4.0.2/bootstrap3-typeahead.js"></script>
<script async src="/search/js/520.js"></script>
<script async src="/search/js/gtag.js"></script>
<!-- <script src="/search/js/canvas.js"></script> -->

<script>
    $(function () {
        setTimeout(function () {
            $('code').removeClass('hljs');
            $('code').removeClass('language');
        }, 90);
    });
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    <!--liberxueconnnet-menu-->
    <div id="directory-content" class="directory-content">
        <div id="directory"></div>
    </div>
    <!--liberxueconnnet-menu-->
    <script>
      const directoryContainer = document.getElementById('directory')
      const postTitle = document.getElementsByClassName('post-title')[0]
      var postDirectoryBuild = function () {
        var postChildren = function children(childNodes, reg) {
          var result = [],
              isReg = typeof reg === 'object',
              isStr = typeof reg === 'string',
              node, i, len;
          for (i = 0, len = childNodes.length; i < len; i++) {
            node = childNodes[i];
            if ((node.nodeType === 1 || node.nodeType === 9) &&
              (!reg ||
                  isReg && reg.test(node.tagName.toLowerCase()) ||
                  isStr && node.tagName.toLowerCase() === reg)) {
                result.push(node);
              }
            }
            return result;
          },
          createPostDirectory = function (article, directory, isDirNum) {
            var contentArr = [],
                titleId = [],
                levelArr, root, level,
                currentList, list, li, link, i, len;
            levelArr = (function (article, contentArr, titleId) {
                  var titleElem = postChildren(article.childNodes, /^h\d$/),
                      levelArr = [],
                      lastNum = 1,
                      lastRevNum = 1,
                      count = 0,
                      guid = 1,
                      id = 'directory' + (Math.random() + '').replace(/\D/, ''),
                      lastRevNum, num, elem;
                  while (titleElem.length) {
                      elem = titleElem.shift();
                      contentArr.push(elem.innerHTML);
                      num = +elem.tagName.match(/\d/)[0];
                      if (num > lastNum) {
                          levelArr.push(1);
                          lastRevNum += 1;
                      } else if (num === lastRevNum ||
                          num > lastRevNum && num <= lastNum) {
                          levelArr.push(0);
                          lastRevNum = lastRevNum;
                      } else if (num < lastRevNum) {
                          levelArr.push(num - lastRevNum);
                          lastRevNum = num;
                      }
                      count += levelArr[levelArr.length - 1];
                      lastNum = num;
                      elem.id = elem.id || (id + guid++);
                      titleId.push(elem.id);
                  }
                  if (count !== 0 && levelArr[0] === 1) levelArr[0] = 0;

                  return levelArr;
              })(article, contentArr, titleId);
              currentList = root = document.createElement('ul');
              dirNum = [0];
              for (i = 0, len = levelArr.length; i < len; i++) {
                  level = levelArr[i];
                  if (level === 1) {
                      list = document.createElement('ul');
                      if (!currentList.lastElementChild) {
                          currentList.appendChild(document.createElement('li'));
                      }
                      currentList.lastElementChild.appendChild(list);
                      currentList = list;
                      dirNum.push(0);
                  } else if (level < 0) {
                      level *= 2;
                      while (level++) {
                          if (level % 2) dirNum.pop();
                          currentList = currentList.parentNode;
                      }
                  }
                  dirNum[dirNum.length - 1]++;
                  li = document.createElement('li');
                  link = document.createElement('a');
                  link.name = '#' + titleId[i];
                  link.href = 'Javascript:;'
                  link.title = 'è®¿é—®' + titleId[i];
                  link.innerHTML = !isDirNum ? contentArr[i] :
                      dirNum.join('.') + ' ' + contentArr[i];
                  li.appendChild(link);
                  currentList.appendChild(li);
              }
            directory.appendChild(root);
          };
        createPostDirectory(document.getElementById('post-content'), directoryContainer, true);
      };
      postDirectoryBuild();
    </script>
    <script>
      // gtag('config', GA_TRACKING_ID, {
      //   'page_title' : 'Blog',
      //   'page_path': window.location.pathname,
      //   'post_title': 'watttsdfasdf',
      // });

    </script>
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script>
        lang = hljs.initHighlightingOnLoad();
    </script>
</body>

</html>
