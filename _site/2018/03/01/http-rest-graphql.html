
<!DOCTYPE>
<html lang="zh-cn" data-scribe-reduced-action-queue="true">
<head>
    <meta content='REST or GraphQL - Tate & Snow' name='title' />
    <meta content='REST or GraphQL - Tate & Snow' name='og:title' />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
    <title>REST or GraphQL - Tate & Snow</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>REST or GraphQL - Tate & Snow</title>
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="REST or GraphQL - Tate & Snow">
<meta name="twitter:keywords" content="REST or GraphQL - Tate & Snow" property='og:description' />
<meta property="og:type" content="article">
<meta property="og:title" content="REST or GraphQL - Tate & Snow">
<meta name="og:keywords" content="REST or GraphQL - Tate & Snow|REST or GraphQLä»€ä¹ˆæ˜¯ RESTREST(Representational State Transfer) æ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼Œåœ¨éµå¾ª REST è®¾è®¡åŸåˆ™å’Œçº¦æŸæ¡ä»¶çš„ é¢å‘èµ„æºçš„ä½“ç³»æ¶æ„(ROA - Resource-Ori..."
  property='og:description' />
<link rel="icon" type="image/png" href="http://localhost:2333/style/favicons/favicon.ico" />
<link href="http://localhost:2333/style/favicons/favicon.ico" rel="shortcut icon" type="image/png">
<link rel="canonical" href="http://localhost:2333/">
<link rel="alternate" type="application/rss+xml" title="Liberxue" href="http://localhost:2333/feed.xml">
<meta charset="UTF-8">
<link rel="manifest" href="/manifest.json">
<link rel="shortcut icon" href="http://localhost:2333/style/favicons/favicon.ico" type="image/x-icon">
<meta name="keywords" content="REST or GraphQLä»€ä¹ˆæ˜¯ RESTREST(Representational State Transfer) æ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼Œåœ¨éµå¾ª REST è®¾è®¡åŸåˆ™å’Œçº¦æŸæ¡ä»¶çš„ é¢å‘èµ„æºçš„ä½“ç³»æ¶æ„(ROA - Resource-Ori..." property='og:description'
/>
<meta name="description" content="Tate & Snow's Github blog" />
<link href="https://cdn.bootcss.com/highlight.js/9.10.0/styles/xcode.min.css" rel="stylesheet">
<link href="http://localhost:2333/style/theme.css" rel="stylesheet"> 
<meta content='http://localhost:2333/2018/03/01/http-rest-graphql.html' property='og:url' />
<meta content="http://localhost:2333/2018/03/01/http-rest-graphql.html|REST or GraphQLä»€ä¹ˆæ˜¯ RESTREST(Representational State Transfer) æ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼Œåœ¨éµå¾ª REST è®¾è®¡åŸåˆ™å’Œçº¦æŸæ¡ä»¶çš„ é¢å‘èµ„æºçš„ä½“ç³»æ¶æ„(ROA - Resource-Ori..." property='og:description'
/>
<meta content="article" property="og:type" /> 

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-136311746-1"></script>
<!-- <script async src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script> -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"/>
<script>
  window.dataLayer = window.dataLayer || [];
  window.GA_TRACKING_ID = 'UA-136311746-1'
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('set', {
    'country': 'US',
    'currency': 'USD',
    'description': 'fuck',
  });
  gtag('config', GA_TRACKING_ID, {
    'custom_map': {
      'dimension1': 'post_title',
    },
    'post_title': 'test',
  });
</script>
<meta content="" property="fb:app_id" />
<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>REST or GraphQL | Tate &amp; Snow</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="REST or GraphQL" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="REST or GraphQL" />
<meta property="og:description" content="REST or GraphQL" />
<link rel="canonical" href="http://localhost:2333/2018/03/01/http-rest-graphql.html" />
<meta property="og:url" content="http://localhost:2333/2018/03/01/http-rest-graphql.html" />
<meta property="og:site_name" content="Tate &amp; Snow" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-03-01T15:33:00+08:00" />
<script type="application/ld+json">
{"description":"REST or GraphQL","@type":"BlogPosting","url":"http://localhost:2333/2018/03/01/http-rest-graphql.html","headline":"REST or GraphQL","dateModified":"2018-03-01T15:33:00+08:00","datePublished":"2018-03-01T15:33:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:2333/2018/03/01/http-rest-graphql.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<script>
  (function (d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s);
    js.id = id;
    js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&appId=";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>

</head>

<body class="dark-theme" gtools_scp_screen_capture_injected="true">
    <header id="header" class="header bg-white">
        <div class="navbar-container">
            <a href="Javascript:;" onclick="onClickLogo()" title="è®¿é—® Tate & Snow" class="navbar-logo menu-logo">
                <img src="http://localhost:2333/style/images/tate.png" alt="Tate & Snow"> </a>
            <!-- <a href="/?tate" title="è®¿é—® Tate & Snow" class="navbar-logo">Tate & Snow</a>   -->
            <div class="navbar-menu">
                
                  <a class=" menu-item-categories " href="Javascript:;" onclick="onClickMenu('é¦–é¡µ', '/')" title="è®¿é—® é¦–é¡µ" data-hover="é¦–é¡µ">é¦–é¡µ</a>
                
                  <a class=" menu-item-categories " href="Javascript:;" onclick="onClickMenu('å‰ç«¯', '/front')" title="è®¿é—® å‰ç«¯" data-hover="å‰ç«¯">å‰ç«¯</a>
                
                  <a class=" menu-item-categories " href="Javascript:;" onclick="onClickMenu('å†å²', '/history')" title="è®¿é—® å†å²" data-hover="å†å²">å†å²</a>
                
                  <a class=" menu-item-categories " href="Javascript:;" onclick="onClickMenu('å…¶ä»–', '/other')" title="è®¿é—® å…¶ä»–" data-hover="å…¶ä»–">å…¶ä»–</a>
                
                  <a class=" menu-item-categories " href="Javascript:;" onclick="onClickMenu('æ ‡ç­¾', '/tags')" title="è®¿é—® æ ‡ç­¾" data-hover="æ ‡ç­¾">æ ‡ç­¾</a>
                
                  <a class=" menu-item-about " href="Javascript:;" onclick="onClickMenu('å…³äº', '/README')" title="è®¿é—® å…³äº" data-hover="å…³äº">å…³äº</a>
                
            </div>
            <!-- <div class="navbar-menu">
                
                <a href="http://localhost:2333/">é¦–é¡µ</a>
                
                <a href="http://localhost:2333/front">å‰ç«¯</a>
                
                <a href="http://localhost:2333/history">å†å²</a>
                
                <a href="http://localhost:2333/other">å…¶ä»–</a>
                
                <a href="http://localhost:2333/tags">æ ‡ç­¾</a>
                
                <a href="http://localhost:2333/README">å…³äº</a>
                
            </div> -->
            <div class="navbar-search menu-item-search" onclick="onClickSearch()">
                <span class="icon-search"></span>
                <form id="cb-search-btn" role="search">
                    <span class="search-box">
                        <input type="text" class="input" id="cb-search-content" required="true" placeholder="æ ‡é¢˜ æ ‡ç­¾..." maxlength="30" autocomplete="off">
                    </span>
                </form>
            </div>
            <div class="navbar-mobile-menu" onclick="">
                <span class="icon-menu cross">
                    <span class="middle"></span>
                </span>
                <ul>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('é¦–é¡µ', 'http://localhost:2333/')">é¦–é¡µ</a>
                    </li>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('å‰ç«¯', 'http://localhost:2333/front')">å‰ç«¯</a>
                    </li>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('å†å²', 'http://localhost:2333/history')">å†å²</a>
                    </li>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('å…¶ä»–', 'http://localhost:2333/other')">å…¶ä»–</a>
                    </li>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('æ ‡ç­¾', 'http://localhost:2333/tags')">æ ‡ç­¾</a>
                    </li>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('å…³äº', 'http://localhost:2333/README')">å…³äº</a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </header>
    <a href="#header" class="back-to-top" onclick="onClickTop('REST or GraphQL')">â¤´Topâ¤´</a>
    <div class="post-header-thumb bg-white}">
        <div class="post-header-thumb-op"></div>
        <div class="post-header-thumb">
            <div class="post-header-thumb-container">
                <h1 class="post-title" itemprop="name headline">
                    REST or GraphQL</h1>
                <div class="post-data">
                    <time datetime="2018-03-01 15:33:00" itemprop="datePublished">
                      å‘å¸ƒæ—¶é—´ï¼š2018-03-01 15:33:00
                      &nbsp;&nbsp;&nbsp;
                      
                        ä¿®æ”¹æ—¶é—´ï¼š2019-10-18 20:56:00
                      
                    </time>
                    <a onclick="onClickCategory('åç«¯')" href="Javascript:;" title="è®¿é—® åç«¯" data-hover="åšå®¢åˆ†ç±»: åç«¯">åšå®¢åˆ†ç±»: åç«¯</a>
                    <!-- <a href="#read"> é˜…è¯»æ¬¡æ•°: comments</a>  -->
                </div>
                <div class="post-tags">
                       
                    <a class="menu-item-tags" href="Javascript:;" onclick="onClickTag('http')" title="è®¿é—®http" data-hover="http">
                        http
                        <span>(9)</span>
                        
                    </a>
                       
                </div>
            </div>
        </div>
    </div>
    <article class="main-content post-page" itemscope itemtype="http://schema.org/Article">
        <div class="post-header">
            <h1 class="post-title" itemprop="name headline">
                REST or GraphQL</h1>
            <div class="post-data">
                <time datetime="2018-03-01 15:33:00" itemprop="datePublished">2018-03-01 15:33:00</time>
            </div>
        </div>
        <div id="post-content" class="post-content" itemprop="articleBody">
            <p class="post-tags">
                   
                <a href="Javascript:;" onclick="onClickTag('http')" title="è®¿é—®http" data-hover="http">
                    http
                    <span>(9)</span>
                    </a>
                   
            </p>
            <h1 id="rest-or-graphql">REST or GraphQL</h1>

<h2 id="ä»€ä¹ˆæ˜¯-rest">ä»€ä¹ˆæ˜¯ REST</h2>

<p><strong>REST(Representational State Transfer)</strong> æ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼Œåœ¨éµå¾ª REST è®¾è®¡åŸåˆ™å’Œçº¦æŸæ¡ä»¶çš„ <strong>é¢å‘èµ„æºçš„ä½“ç³»æ¶æ„(ROA - Resource-Oriented Architecture)</strong> åº”ç”¨ä¸­ï¼ŒæœåŠ¡æ˜¯ä»¥èµ„æºä¸ºä¸­å¿ƒçš„ï¼Œå¯¹æ¯ä¸ªèµ„æºçš„æ“ä½œéƒ½æ˜¯æ ‡å‡†åŒ–çš„ HTTP æ–¹æ³•ã€‚ç®€å•æ¥è®²å°±æ˜¯ç”¨ <a href="#uri--url">URI</a> å®šä½èµ„æºï¼Œç”¨ HTTP æ–¹æ³•æè¿°æ“ä½œï¼Œé»˜è®¤åŸºäº JSON ä½œä¸ºä¼ è¾“æ ¼å¼ã€‚</p>

<p><strong>RESTful Web Services</strong> æ˜¯ä¸€ç§éµå¾ª REST å¼é£æ ¼çš„ Web æœåŠ¡ï¼Œåº”è¯¥æ»¡è¶³ä»¥ä¸‹å‡ ç‚¹:</p>

<ul>
  <li>å¯å¯»å€ URI</li>
  <li>æ¥å£çš„ç»Ÿä¸€ï¼ŒCRUD(å¢åˆ æ”¹æŸ¥)</li>
  <li>æ— çŠ¶æ€ï¼Œå¯ç¼“å­˜</li>
  <li>å¤„ç†ç»“æœç”± HTTP çŠ¶æ€ç é€šçŸ¥</li>
</ul>

<h3 id="å¯å¯»å€-uri">å¯å¯»å€ URI</h3>

<p>åœ¨å®šä¹‰èµ„æºçš„ URI æ—¶ï¼Œé€šè¿‡æ¨¡æ‹Ÿç›®å½•ç»“æ„æ¥ä½¿ç”¨æœåŠ¡å˜å¾—ç®€å•ç›´è§‚ã€‚URI åªåº”è¯¥æŒ‡ç¤ºèµ„æºï¼Œå› æ­¤å¿…é¡»è¦ä½¿ç”¨æ¦‚å¿µæ¸…æ™°çš„åå­—æ¥å®šä¹‰ã€‚</p>

<pre><code class="language-HTTP">&lt;!-- æ¥å£è¡¨è¿°è§„èŒƒ --&gt;
Method /path[?query]

&lt;!-- Badï¼Œé¿å…ç”¨åŠ¨è¯ --&gt;
GET /getUsers?name=tate

&lt;!-- Good --&gt;
GET /users?name=tate
</code></pre>

<p>å¤æ‚æŸ¥è¯¢å¯æå¸¦ä»¥ä¸‹å‚æ•°:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">æŸ¥è¯¢æ–¹å¼</th>
      <th style="text-align: left">å‚æ•°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">è¿‡æ»¤æ¡ä»¶</td>
      <td style="text-align: left">?name=snow&amp;age=18</td>
    </tr>
    <tr>
      <td style="text-align: left">æ’åº</td>
      <td style="text-align: left">?sort=age,desc</td>
    </tr>
    <tr>
      <td style="text-align: left">æŠ•å½±</td>
      <td style="text-align: left">?whitelist=id,name,email</td>
    </tr>
    <tr>
      <td style="text-align: left">åˆ†é¡µ</td>
      <td style="text-align: left">?limit=10&amp;offset=3</td>
    </tr>
  </tbody>
</table>

<!-- ![å¯å¯»å€ URI](https://i.loli.net/2018/03/01/5a976732bacc2.jpg) -->

<h3 id="ç»Ÿä¸€æ¥å£">ç»Ÿä¸€æ¥å£</h3>

<ul>
  <li><strong>å®‰å…¨æ€§(Safety)</strong> - å¤–éƒ¨ç³»ç»Ÿå¯¹è¯¥æ¥å£çš„è®¿é—®ï¼Œä¸ä¼šä½¿æœåŠ¡ç«¯èµ„æºçš„çŠ¶æ€å‘ç”Ÿæ”¹å˜</li>
  <li><strong>å¹‚ç­‰æ€§(Idempotence)</strong> - å¤–éƒ¨ç³»ç»Ÿå¯¹åŒä¸€æ¥å£çš„å¤šæ¬¡è®¿é—®ï¼Œå¾—åˆ°çš„èµ„æºçŠ¶æ€å§‹ç»ˆç›¸åŒ</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: left">å¤„ç†</th>
      <th style="text-align: left">HTTP æ–¹æ³•</th>
      <th style="text-align: left">CRUD æ“ä½œ</th>
      <th style="text-align: left">æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">åˆ›å»º</td>
      <td style="text-align: left">POST</td>
      <td style="text-align: left">CREATE</td>
      <td style="text-align: left">ä¸å®‰å…¨ã€ä¸å¹‚ç­‰</td>
    </tr>
    <tr>
      <td style="text-align: left">æŸ¥è¯¢</td>
      <td style="text-align: left">GET</td>
      <td style="text-align: left">READ</td>
      <td style="text-align: left">å®‰å…¨ã€å¹‚ç­‰</td>
    </tr>
    <tr>
      <td style="text-align: left">æ›´æ–°</td>
      <td style="text-align: left">PUT</td>
      <td style="text-align: left">UPDATE</td>
      <td style="text-align: left">ä¸å®‰å…¨ã€å¹‚ç­‰</td>
    </tr>
    <tr>
      <td style="text-align: left">åˆ é™¤</td>
      <td style="text-align: left">DELETE</td>
      <td style="text-align: left">DELETE</td>
      <td style="text-align: left">ä¸å®‰å…¨ã€å¹‚ç­‰</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>PUT æ›´æ–°å®Œæ•´èµ„æºå¯¹è±¡ï¼Œè€Œ PATCH åˆ™ç”¨æ¥å¯¹å·²çŸ¥èµ„æºè¿›è¡Œå±€éƒ¨æ›´æ–°ï¼Œä¸”ä¸å¹‚ç­‰ã€‚</p>
</blockquote>

<h3 id="æ— çŠ¶æ€">æ— çŠ¶æ€</h3>

<p>åœ¨<strong><a href="https://zh.wikipedia.org/wiki/%E6%97%A0%E7%8A%B6%E6%80%81%E5%8D%8F%E8%AE%AE">æ— çŠ¶æ€(Stateless)</a></strong>äº¤äº’ä¸­ï¼ŒæœåŠ¡å™¨ä¸ä¿ç•™å®¢æˆ·ç«¯ä¼šè¯ä¿¡æ¯ã€‚</p>

<ul>
  <li>ä¼˜ç‚¹ - æ¯ä¸ªè¯·æ±‚ä¸ä¹‹å‰ä»»ä½•è¯·æ±‚éƒ½ç‹¬ç«‹ä¸”æ— å…³ï¼Œä¸ä¼šé€ æˆä¸å¿…è¦çš„è¿æ¥å ç”¨ï¼Œå“åº”è¾ƒå¿«</li>
  <li>ç¼ºç‚¹ - å¦‚æœåç»­å¤„ç†éœ€è¦å‰é¢çš„ä¿¡æ¯ï¼Œåˆ™å®ƒå¿…é¡»é‡ä¼ ï¼Œè¿™æ ·å¯èƒ½å¯¼è‡´æ¯æ¬¡è¿æ¥ä¼ é€çš„æ•°æ®é‡å¢å¤§</li>
</ul>

<blockquote>
  <p>å› ä¸º HTTP åè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œå³æœåŠ¡å™¨ä¸çŸ¥é“ç”¨æˆ·ä¸Šä¸€æ¬¡åšäº†ä»€ä¹ˆï¼Œè¿™ä¸¥é‡é˜»ç¢äº†äº¤äº’å¼ Web åº”ç”¨ç¨‹åºçš„å®ç°ï¼Œå› æ­¤ <a href="( http://localhost:2333/2018/03/01/cookie.html )">cookie å’Œ session</a> åº”è¿è€Œç”Ÿã€‚</p>
</blockquote>

<h3 id="çŠ¶æ€ç ">çŠ¶æ€ç </h3>

<p>ç”±äº REST ä½¿ç”¨ HTTP æ–¹æ³•ï¼Œå› æ­¤è¿”å› HTTP çŠ¶æ€ä»£ç æ˜¯ä¸€ç§è‡ªç„¶æµç¨‹ã€‚å¸¸è§çš„çŠ¶æ€ç å¦‚ä¸‹ï¼Œæ›´å¤šå¯<a href="https://httpstatuses.com/">ç‚¹å‡»æŸ¥çœ‹</a>:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">çŠ¶æ€ç </th>
      <th style="text-align: left">æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">200</td>
      <td style="text-align: left">è¯·æ±‚æˆåŠŸ</td>
    </tr>
    <tr>
      <td style="text-align: left">201</td>
      <td style="text-align: left">åˆ›å»ºã€ä¿®æ”¹æˆåŠŸ</td>
    </tr>
    <tr>
      <td style="text-align: left">204</td>
      <td style="text-align: left">åˆ é™¤æˆåŠŸ</td>
    </tr>
    <tr>
      <td style="text-align: left">400</td>
      <td style="text-align: left">å‚æ•°é”™è¯¯</td>
    </tr>
    <tr>
      <td style="text-align: left">401</td>
      <td style="text-align: left">éœ€è¦èº«ä»½éªŒè¯</td>
    </tr>
    <tr>
      <td style="text-align: left">403</td>
      <td style="text-align: left">ç¦æ­¢è®¿é—®</td>
    </tr>
    <tr>
      <td style="text-align: left">404</td>
      <td style="text-align: left">æœªæ‰¾åˆ°èµ„æº</td>
    </tr>
    <tr>
      <td style="text-align: left">500</td>
      <td style="text-align: left">æœåŠ¡å™¨é”™è¯¯</td>
    </tr>
  </tbody>
</table>

<h2 id="rpc--soap">RPC / SOAP</h2>

<h3 id="rpc">RPC</h3>

<p><strong>RPC(è¿œç¨‹è¿‡ç¨‹è°ƒç”¨)</strong> æ˜¯ä¸€ä¸ªè®¡ç®—æœºé€šä¿¡åè®®ã€‚åƒè°ƒç”¨æœ¬åœ°æœåŠ¡(æ–¹æ³•)ä¸€æ ·è°ƒç”¨æœåŠ¡å™¨çš„æœåŠ¡(æ–¹æ³•)ã€‚é€šå¸¸çš„å®ç°æœ‰ XML-RPCã€JSON-RPCï¼Œé€šä¿¡æ–¹å¼åŸºæœ¬ç›¸åŒ, æ‰€ä¸åŒçš„åªæ˜¯ä¼ è¾“æ•°æ®çš„æ ¼å¼ã€‚</p>

<p>RPC è°ƒç”¨çš„æµç¨‹æ¶‰åŠåˆ°å¦‚ä¸‹é€šä¿¡ç»†èŠ‚:</p>

<!-- TODO: -->
<!-- ![RPC](https://i.loli.net/2018/03/01/5a97a9d5e8ec6.png) -->

<p>XML-RPC åªèƒ½ä½¿ç”¨æœ‰é™çš„æ•°æ®ç±»å‹ç§ç±»å’Œä¸€äº›ç®€å•çš„æ•°æ®ç»“æ„ï¼Œä¹‹ååˆæœ‰äº†æ›´åŠ å¼ºå¤§çš„ SOAP , ç”¨äºä¸€äº›æ¯”è¾ƒå¤æ‚çš„ç³»ç»Ÿä¹‹ä¸Šã€‚</p>

<h3 id="soap">SOAP</h3>

<p><strong>SOAP(ç®€å•å¯¹è±¡è®¿é—®åè®®)</strong> ä¸€ç§æ•°æ®äº¤æ¢åè®®è§„èŒƒï¼Œæ˜¯ä¸€ç§è½»é‡çš„ã€ç®€å•çš„ã€è·¨è¯­è¨€å’Œè·¨å¹³å°ã€åŸºäº XML çš„åè®®çš„è§„èŒƒï¼Œç”¨äºåœ¨ Web Service ä¸­æŠŠè¿œç¨‹è°ƒç”¨å’Œè¿”å›å°è£…æˆæœºå™¨å¯è¯»çš„æ ¼å¼åŒ–æ•°æ®ï¼ŒHTTP ç”¨äºå®ç° SOAP çš„ RPC é£æ ¼çš„ä¼ è¾“, è€Œ XML æ˜¯å®ƒçš„ç¼–ç æ¨¡å¼ã€‚</p>

<h2 id="graphql">GraphQL</h2>

<h3 id="ç‰¹æ€§åŠ-graphiql">ç‰¹æ€§åŠ GraphiQL</h3>

<p><a href="https://graphql.cn"><strong>GraphQL</strong></a> æ˜¯ä¸€ç§ç”¨äº API çš„æŸ¥è¯¢è¯­è¨€ï¼Œå®ƒä¸»è¦æœ‰ä»¥ä¸‹ç‰¹æ€§:</p>

<ul>
  <li>æ€»æ˜¯è¿”å›å¯é¢„æµ‹çš„ç»“æœï¼Œä¸å¤šä¸å°‘</li>
  <li>å…¸å‹çš„ REST API è¯·æ±‚å¤šä¸ªèµ„æºæ—¶å¾—è½½å…¥å¤šä¸ª URLï¼Œè€Œ GraphQL å¯ä»¥é€šè¿‡ä¸€æ¬¡è¯·æ±‚å°±è·å–ä½ åº”ç”¨æ‰€éœ€çš„æ‰€æœ‰æ•°æ®</li>
  <li>ä½¿ç”¨ç±»å‹æ¥ä¿è¯åº”ç”¨åªè¯·æ±‚å¯èƒ½çš„æ•°æ®ï¼Œè¿˜æä¾›äº†æ¸…æ™°çš„è¾…åŠ©æ€§é”™è¯¯ä¿¡æ¯</li>
</ul>

<p>ä¸€ä¸ª GraphQL æœåŠ¡æ˜¯é€šè¿‡å®šä¹‰ç±»å‹å’Œç±»å‹ä¸Šçš„å­—æ®µæ¥åˆ›å»ºçš„ï¼Œç„¶åç»™æ¯ä¸ªç±»å‹ä¸Šçš„æ¯ä¸ªå­—æ®µæä¾›è§£æå‡½æ•°ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª GraphQL æœåŠ¡å‘Šè¯‰æˆ‘ä»¬å½“å‰ç™»å½•ç”¨æˆ·æ˜¯ meï¼Œè¿™ä¸ªç”¨æˆ·çš„åç§°å¯èƒ½åƒè¿™æ ·:</p>

<pre><code class="language-JS">type Query {
  me: User
}

type User {
  id: ID
  name: String
}
</code></pre>

<p>è¿˜æœ‰æ¯ä¸ªç±»å‹ä¸Šå­—æ®µçš„è§£æå‡½æ•°:</p>

<pre><code class="language-JS">function Query_me(request) {
  return request.auth.user;
}

function User_name(user) {
  return user.getName();
}
</code></pre>

<p>æ—¦ä¸€ä¸ª GraphQL æœåŠ¡è¿è¡Œèµ·æ¥ï¼Œå®ƒå°±èƒ½æ¥æ”¶ GraphQL æŸ¥è¯¢ï¼Œå¹¶éªŒè¯å’Œæ‰§è¡Œã€‚æ¥æ”¶åˆ°çš„æŸ¥è¯¢é¦–å…ˆä¼šè¢«æ£€æŸ¥ç¡®ä¿å®ƒåªå¼•ç”¨äº†å·²å®šä¹‰çš„ç±»å‹å’Œå­—æ®µï¼Œç„¶åè¿è¡ŒæŒ‡å®šçš„è§£æå‡½æ•°æ¥ç”Ÿæˆç»“æœ:</p>

<pre><code class="language-JS">// æŸ¥è¯¢
{
  me {
    name
  }
}
</code></pre>

<pre><code class="language-JS">// æŸ¥è¯¢ç»“æœ
{
  "me": {
    "name": "Luke Skywalker"
  }
}
</code></pre>

<video src="https://graphql.cn/img/graphiql.mp4?x" controls="controls"></video>

<blockquote>
  <p>æ€§æ„Ÿ GraphiQL ç¼–è¾‘å™¨ï¼Œ<a href="https://graphql.org/swapi-graphql">åœ¨çº¿æ“ä½œ</a> ğŸ‘ˆ</p>
</blockquote>

<h3 id="graphqljs">graphql.js</h3>

<h4 id="åŸºäº-express-çš„é…ç½®">åŸºäº express çš„é…ç½®</h4>

<p>GraphQL å·²æœ‰å¤šç§ç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶æ”¯æŒï¼Œç°åœ¨åŸºäº express æ¥æ­å»ºè¯•ä¸€è¯•ï¼Œå…·ä½“è¯­æ³•å¯ä»¥<a href="https://graphql.cn/learn/queries/">å‚è€ƒå®˜æ–¹æ–‡æ¡£</a>:</p>

<pre><code class="language-JS">var express = require('express');
var graphqlHTTP = require('express-graphql');
var { buildSchema } = require('graphql');
// Construct a schema, using GraphQL schema language
var schema = buildSchema(`
  type Query {
    hello: String
  }
`);

var root = { hello: () =&gt; 'Hello Tate!' };

var app = express();
// é€šè¿‡è®¿é—® graphql è·¯ç”±å°±å¯ä»¥æ‰“å¼€ä¸Šè¿°çš„ GraphiQL ç¼–è¾‘é¡µé¢
app.use('/graphql', graphqlHTTP({
  schema: schema, // A GraphQLSchema instance from GraphQL.js
  rootValue: root,
  graphiql: true,
}));
app.listen(4000, () =&gt; console.log('Now browse to localhost:4000/graphql'));
</code></pre>

<blockquote>
  <p><code class="highlighter-rouge">graphql.js</code> çš„ç”¨æ³•<a href="https://graphql.org/graphql-js/">å‚è€ƒå®˜æ–¹æ–‡æ¡£</a> ğŸ‘ˆ</p>
</blockquote>

<p>æˆ‘ä»¬æ‰“å¼€ <code class="highlighter-rouge">localhost:4000/graphql</code> åï¼Œä¾¿å¯ä»¥çœ‹åˆ°ä¸Šè¿°çš„ GraphiQL ç¼–è¾‘é¡µé¢ï¼Œæ­¤æ—¶åœ¨æ§åˆ¶å°æ¨¡æ‹Ÿä¸‹å®¢æˆ·ç«¯è¯·æ±‚ä»£ç :</p>

<pre><code class="language-JS">fetch('/graphql', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Accept': 'application/json',
  },
  body: JSON.stringify({query: "{ hello }"})
})
  .then(r =&gt; r.json())
  .then(data =&gt; console.log('data returned:', data)); // Hello Tate!
</code></pre>

<h4 id="åŸºæœ¬ç±»å‹">åŸºæœ¬ç±»å‹</h4>

<p>åœ¨ç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªç”¨é€šè¿‡ GraphQL schema language æ¥æŒ‡å®š API çš„ç±»å‹ï¼Œå¹¶ä½œä¸ºå‚æ•°ä¼ ç»™ <code class="highlighter-rouge">buildSchema</code> å‡½æ•°ã€‚ç›®å‰æ”¯æŒçš„åŸºæœ¬ç±»å‹æœ‰äº”ä¸ª - <code class="highlighter-rouge">String, Int, Float, Boolean, and ID</code>ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™å‡ ç§ç±»å‹éƒ½å¯èƒ½è¿”å› nullï¼Œå¦‚æœä½ ç¡®å®šä»–ä»¬æ˜¯é null çš„è¯ï¼Œå¯ä»¥ç›´æ¥åœ¨ç±»å‹ååŠ  â€œ!â€ï¼Œå¦‚ <code class="highlighter-rouge">String!</code>ã€‚å¦å¤–è¦è¡¨ç¤ºæ•°ç»„çš„è¯ï¼Œå¯ä»¥ç›´æ¥ç”¨ <code class="highlighter-rouge">[Int]</code>è¡¨ç¤º:</p>

<pre><code class="language-JS">// Construct a schema, using GraphQL schema language
var schema = buildSchema(`
  type Query {
    quoteOfTheDay: String
    random: Float!
    rollThreeDice: [Int]
  }
`);

// The root provides a resolver function for each API endpoint
var root = {
  quoteOfTheDay: () =&gt; {
    return Math.random() &lt; 0.5 ? 'Take it easy' : 'Salvation lies within';
  },
  random: () =&gt; {
    return Math.random();
  },
  rollThreeDice: () =&gt; {
    return [1, 2, 3].map(_ =&gt; 1 + Math.floor(Math.random() * 6));
  },
};
</code></pre>

<p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å¯¹è±¡ç±»å‹ï¼Œæ“ä½œèµ·æ¥ä¸ ts çš„æ¥å£å¾ˆç›¸ä¼¼:</p>

<pre><code class="language-JS">type RandomDie {
  numSides: Int!
  rollOnce: Int!
  roll(numRolls: Int!): [Int]
}

type Query {
  getDie(numSides: Int): RandomDie
}
</code></pre>

<h4 id="ä¼ é€’å‚æ•°">ä¼ é€’å‚æ•°</h4>

<pre><code class="language-JS">var schema = buildSchema(`
  type Query {
    rollDice(numDice: Int!, numSides: Int): [Int]
  }
`);

// The root provides a resolver function for each API endpoint
var root = {
  rollDice: function ({ numDice, numSides }) {
    var output = [];
    for (var i = 0; i &lt; numDice; i++) {
      output.push(1 + Math.floor(Math.random() * (numSides || 6)));
    }
    return output;
  }
};
</code></pre>

<p>å› æ­¤æŸ¥è¯¢çš„æ—¶å€™ä¸€å®šè¦å¸¦ä¸Šå¯¹åº”çš„å‚æ•°:</p>

<pre><code class="language-JS">{
  rollDice(numDice: 3, numSides: 6)
}
</code></pre>

<p>åœ¨å®¢æˆ·ç«¯è¯·æ±‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ â€œ$â€ å®šä¹‰ query çš„å˜é‡ï¼Œå¹¶å°†å˜é‡ä½œä¸ºå•ç‹¬æ˜ å°„æ¥ä¼ é€’:</p>

<pre><code class="language-JS">var dice = 3;
var sides = 6;
var query = `query RollDice($dice: Int!, $sides: Int) {
  rollDice(numDice: $dice, numSides: $sides)
}`;

fetch('/graphql', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Accept': 'application/json',
  },
  body: JSON.stringify({
    query,
    variables: { dice, sides },
  })
})
  .then(r =&gt; r.json())
  .then(data =&gt; console.log('data returned:', data));
</code></pre>

<blockquote>
  <p>ä½¿ç”¨ <code class="highlighter-rouge">$dice</code> å’Œ <code class="highlighter-rouge">$sides</code> ä½œä¸º GraphQL ä¸­çš„å˜é‡ï¼Œæˆ‘ä»¬æ— éœ€åœ¨å®¢æˆ·ç«¯å¯¹å®ƒä»¬è¿›è¡Œè½¬ä¹‰</p>
</blockquote>

<h4 id="mutation--input-types">Mutation / Input Types</h4>

<p>å‡è®¾ä½ æœ‰ä¸€ä¸ª API å…¥å£ç«¯ç‚¹ç”¨äºä¿®æ”¹æ•°æ®ï¼Œåƒæ˜¯å‘æ•°æ®åº“ä¸­æ’å…¥æ•°æ®æˆ–ä¿®æ”¹å·²æœ‰æ•°æ®ï¼Œåœ¨ GraphQL ä¸­ï¼Œä½ åº”è¯¥å°†è¿™ä¸ªå…¥å£ç«¯ç‚¹åšä¸º <strong>Mutation</strong> è€Œä¸æ˜¯ <strong>Query</strong>:</p>

<pre><code class="language-JS">type Mutation {
  setMessage(message: String): String
}

type Query {
  getMessage: String
}

...
var fakeDatabase = {};
var root = {
  setMessage: function ({message}) {
    fakeDatabase.message = message;
    return message;
  },
  getMessage: function () {
    return fakeDatabase.message;
  }
};
</code></pre>

<p>ä½†æ˜¯æ›´å¤šæƒ…å†µä¸‹ï¼Œä½ ä¼šå‘ç°æœ‰å¤šä¸ªä¸åŒçš„å˜æ›´æ¥å—ç›¸åŒçš„è¾“å…¥å‚æ•°ã€‚å¸¸è§çš„æ¡ˆä¾‹æ˜¯åœ¨æ•°æ®åº“ä¸­åˆ›å»ºå¯¹è±¡å’Œæ›´æ–°å¯¹è±¡çš„æ¥å£é€šå¸¸ä¼šæ¥å—ä¸€æ ·çš„å‚æ•°ã€‚ä½ å¯ä»¥ä½¿ç”¨â€œè¾“å…¥ç±»å‹â€æ¥ç®€åŒ– schemaï¼Œä½¿ç”¨ <strong>input</strong> å…³é”®å­—è€Œä¸æ˜¯ <strong>type</strong> å…³é”®å­—å³å¯:</p>

<pre><code class="language-JS">var schema = buildSchema(`
  input MessageInput {
    content: String
    author: String
  }

  type Message {
    id: ID!
    content: String
    author: String
  }

  type Query {
    getMessage(id: ID!): Message
  }

  type Mutation {
    createMessage(input: MessageInput): Message
    updateMessage(id: ID!, input: MessageInput): Message
  }
`);

// å¦‚æœ Message æ‹¥æœ‰å¤æ‚å­—æ®µï¼Œæˆ‘ä»¬æŠŠå®ƒä»¬æ”¾åœ¨è¿™ä¸ªå¯¹è±¡é‡Œé¢ã€‚
class Message {
  constructor(id, {content, author}) {
    this.id = id;
    this.content = content;
    this.author = author;
  }
}

// æ˜ å°„ username åˆ° content
var fakeDatabase = {};

var root = {
  getMessage: function ({id}) {
    if (!fakeDatabase[id]) {
      throw new Error('no message exists with id ' + id);
    }
    return new Message(id, fakeDatabase[id]);
  },
  createMessage: function ({input}) {
    // Create a random id for our "database".
    var id = require('crypto').randomBytes(10).toString('hex');

    fakeDatabase[id] = input;
    return new Message(id, input);
  },
  updateMessage: function ({id, input}) {
    if (!fakeDatabase[id]) {
      throw new Error('no message exists with id ' + id);
    }
    // This replaces all old data, but some apps might want partial update.
    fakeDatabase[id] = input;
    return new Message(id, input);
  },
};
</code></pre>

<p>å› æ­¤æŸ¥è¯¢çš„æ—¶å€™å¦‚ä¸‹å†™ï¼Œå¹¶è¿”å› id ç­‰å­—æ®µä¿¡æ¯:</p>

<pre><code class="language-JS">mutation {
  createMessage(input: {
    author: "andy",
    content: "hope is a good thing",
  }) {
    id
    author
  }
}
</code></pre>

<p>åŒæ ·åœ¨å®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™:</p>

<pre><code class="language-JS">var author = 'andy';
var content = 'hope is a good thing';
var query = `mutation CreateMessage($input: MessageInput) {
  createMessage(input: $input) {
    id
    author
  }
}`;

fetch('/graphql', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Accept': 'application/json',
  },
  body: JSON.stringify({
    query,
    variables: {
      input: {
        author,
        content,
      }
    }
  })
})
  .then(r =&gt; r.json())
  .then(data =&gt; console.log('data returned:', data));
</code></pre>

<h2 id="uri--url">URI / URL</h2>

<ul>
  <li>URI(Uniform Resource Identifier) - ç»Ÿä¸€èµ„æºæ ‡å¿—ç¬¦</li>
  <li>URL(Uniform Resource Locator) - ç»Ÿä¸€èµ„æºå®šä½ç¬¦</li>
  <li>URN(Uniform Resource Name) - ç»Ÿä¸€èµ„æºåç§°</li>
</ul>

<p><img src="https://danielmiessler.com/images/URI-vs.-URL-e1464829000786.png" alt="URI" /></p>

<h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h2>

<ol>
  <li><a href="https://github.com/aisuhua/restful-api-design-references">restful-api-design-references</a> By aisuhua</li>
  <li><a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm">è®ºæ–‡ - Representational State Transfer (REST)</a></li>
  <li><a href="https://qiita.com/TakahiRoyte/items/949f4e88caecb02119aa">REST å…¥é—¨åŸºç¡€çŸ¥è¯†</a> By TakahiRoyte</li>
  <li><a href="https://novoland.github.io/%E8%AE%BE%E8%AE%A1/2015/08/17/Restful%20API%20%E7%9A%84%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83.html">Restful API çš„è®¾è®¡è§„èŒƒ</a> By novoland</li>
  <li><a href="https://www.zhihu.com/question/28557115">çŸ¥ä¹ - æ€æ ·ç”¨é€šä¿—çš„è¯­è¨€è§£é‡Š RESTï¼Œä»¥åŠ RESTfulï¼Ÿ</a></li>
  <li><a href="https://www.ibm.com/developerworks/cn/webservices/0907_rest_soap/">Web æœåŠ¡ç¼–ç¨‹ï¼ŒREST ä¸ SOAP</a></li>
  <li><a href="https://danielmiessler.com/study/url-uri/">The Difference Between URLs and URIs</a> By Daniel Miessler</li>
  <li><a href="http://blog.csdn.net/fengyinchao/article/details/50774738">å¦‚ä½•ç†è§£ HTTP åè®®çš„ â€œæ— è¿æ¥ï¼Œæ— çŠ¶æ€â€ ç‰¹ç‚¹ï¼Ÿ</a> By fengyinchao</li>
  <li><a href="https://segmentfault.com/q/1010000003064904">SegmentFault - ä»€ä¹ˆæ˜¯ RESTful ï¼Ÿåˆ°åº• REST å’Œ SOAPã€RPC æœ‰ä½•åŒºåˆ«ï¼Ÿ</a></li>
  <li><a href="https://msdn.microsoft.com/en-us/magazine/dd942839.aspx">MSDN - Service Station - More On REST</a> By Jon Flanders</li>
  <li><a href="https://www.cnblogs.com/LBSer/p/4853234.html">ä½ åº”è¯¥çŸ¥é“çš„ RPC åŸç†</a> By zhanlijun</li>
  <li><a href="https://graphql.org/graphql-js/">Getting Started With GraphQL.js</a></li>
</ol>
 
<div id="gitalk-container"></div>
<script>
    var gitalk = new Gitalk({
      enable: true,
      clientID: '020f142489f80c92b097',
      clientSecret: '1fa083372b44031cf1b8249251515c4e3d54c69d',
      repo: 'tate-young.github.io',
      owner: 'Tate-Young',
      admin: ['Tate-Young'],
      id: location.pathname,      // Ensure uniqueness and length less than 50
      distractionFreeMode: false  // Facebook-like distraction free mode
    })

    gitalk.render('gitalk-container')
</script>
<!-- disqus -->
<!-- <div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */

    var disqus_config = function () {
        this.page.url = 'https://tate-young.github.io/2018/03/01/http-rest-graphql.html';
        this.page.identifier = '/2018/03/01/http-rest-graphql';
        this.page.title = 'REST or GraphQL';
    };

    (function () { // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document,
            s = d.createElement('script');

        s.src = '//tate.disqus.com/embed.js'; // IMPORTANT: Replace EXAMPLE with your forum shortname!

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript> -->


            <!-- <p class="post-info">
			æœ¬æ–‡ç”± <a href="/">liberxue</a> åˆ›ä½œï¼Œé‡‡ç”¨ <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="external nofollow">çŸ¥è¯†å…±äº«ç½²å4.0</a> å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯<br>æœ¬ç«™æ–‡ç« é™¤æ³¨æ˜è½¬è½½/å‡ºå¤„å¤–ï¼Œå‡ä¸ºæœ¬ç«™åŸåˆ›æˆ–ç¿»è¯‘ï¼Œè½¬è½½å‰è¯·åŠ¡å¿…ç½²å<br>æœ€åç¼–è¾‘æ—¶é—´ä¸º:2018-03-01 15:33:00</p> -->
        </div>
    </article>

    <!-- <div class="related-post-lists">
	<div class="post-lists">
		<div class="post-lists-body">
					<div class="post-list-item">
				<div class="post-list-item-container">
					<div class="item-label">
						<div class="item-title"><a href="induction.html">å½’çº³çš„éšæƒ³</a></div>
						<div class="item-meta clearfix">
														<div class="item-meta-ico bg-ico-image" style="background: url('../usr/themes/pinghsu/images/bg-ico.png') no-repeat;background-size: 40px auto;"></div>
	                        							<div class="item-meta-cat"><a href="../category/thoughts/index.html">Thoughts</a></div>
						</div>
					</div>
				</div>
			</div>
				</div>
	</div>
</div> -->

    <!-- <footer class="footer bg-white">
	<div class="footer-social">
		<div class="footer-container clearfix">
			<div class="social-list">
	 <a class="social segmentfault" target="blank" href="https://segmentfault.com/u/liberxue" title="è®¿é—® LiberXue_Twitter" data-hover="Segmentfault">Segmentfault</a>
    <a class="social github" target="blank" href="https://github.com/liberxue" title="è®¿é—® LiberXue_Twitter" data-hover="GitHub">GitHub</a>
    <a class="social twitter" target="blank" href="http://twitter.com/liberxue" title="è®¿é—® LiberXue_Twitter" data-hover="Twitter">Twitter</a>
     <a class="social stackoverflow" target="blank" href="https://stackoverflow.com/users/6902190/liberxue" title="è®¿é—® LiberXue_stackoverflow" data-hover="StackOverflow">StackOverflow</a>
          <a class="social oschina" target="blank" href="https://my.oschina.net/bolanzw" title="è®¿é—® LiberXue_Oschina" data-hover="Oschina">Oschina</a>
     <a class="social rss" target="blank" href="/feed.xml"title="è®¿é—® LiberXue_RSS" data-hover="RSS">RSS</a>
	</div>
		</div>
	</div>
	<div class="footer-meta">
        <div class="footer-container">
            <div class="meta-item meta-copyright">
                <div class="meta-copyright-info">
                    <a href="/" class="info-logo">
                         <img src="http://localhost:2333/style/images/logo-liberxue.png"   title="è®¿é—® LiberXue_blog" data-hover="LiberXue_blog" alt="LiberXue_blog" /> </a>
                    <div class="info-text">
                        <p>Theme is <a href="http://www.liberxue.com/2017/08/03/Jekyllthemes.html" title="è®¿é—® Jekyll liberxueä¸»é¢˜"  data-hover="Jekyll liberxue"target="_blank">Jekyll liberxue</a> by <a href="http://www.liberxue.com/about" target="_blank">liberxue</a></p>
                        <p>Powered by <a href="http://localhost:2333/tags/#Jekyll" title="Jekyll" data-hover="Jekyll" target="_blank" rel="nofollow">Jekyll</a></p>
                        <p>&copy; 2017 <a href="/feed.xml"  title="è®¿é—® liberxue blog RSS" data-hover="liberxue blog RSS">liberxue blog RSS</a></p>
                        <p>æ€»è®¡æ–‡ç« ï¼šç¯‡</p>
                      <p>æœ¬blogå·²å¼€æºç‚¹å‡»Fork</p><iframe src="http://ghbtns.com/github-btn.html?user=liberxue&repo=liberxue.github.io&type=fork&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe>
                    </div>
                </div>
            </div>
            <div class="meta-item meta-posts">
                <h3 class="meta-title">ç½®é¡¶æ–‡ç« </h3>
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
            </div>
            <div class="meta-item meta-comments">
                <h3 class="meta-title">æœ€æ–°æ–‡ç« </h3>
  
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
</div>
		</div>
    </div>
</footer> -->
<script src="//cdn.bootcss.com/jquery/2.2.2/jquery.min.js"></script>
<script src="//cdn.bootcss.com/bootstrap-3-typeahead/4.0.2/bootstrap3-typeahead.js"></script>
<script async src="/search/js/520.js"></script>
<script async src="/search/js/gtag.js"></script>
<script async src="/search/live2d/autoload.js"></script>
<!-- <script src="/search/js/canvas.js"></script> -->

<script>
    $(function () {
        setTimeout(function () {
            $('code').removeClass('hljs');
            $('code').removeClass('language');
        }, 90);
    });
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    <!--liberxueconnnet-menu-->
    <div id="directory-content" class="directory-content">
        <div id="directory"></div>
    </div>
    <!--liberxueconnnet-menu-->
    <script>
      const directoryContainer = document.getElementById('directory')
      const postTitle = document.getElementsByClassName('post-title')[0]
      var postDirectoryBuild = function () {
        var postChildren = function children(childNodes, reg) {
          var result = [],
              isReg = typeof reg === 'object',
              isStr = typeof reg === 'string',
              node, i, len;
          for (i = 0, len = childNodes.length; i < len; i++) {
            node = childNodes[i];
            if ((node.nodeType === 1 || node.nodeType === 9) &&
              (!reg ||
                  isReg && reg.test(node.tagName.toLowerCase()) ||
                  isStr && node.tagName.toLowerCase() === reg)) {
                result.push(node);
              }
            }
            return result;
          },
          createPostDirectory = function (article, directory, isDirNum) {
            var contentArr = [],
                titleId = [],
                levelArr, root, level,
                currentList, list, li, link, i, len;
            levelArr = (function (article, contentArr, titleId) {
                  var titleElem = postChildren(article.childNodes, /^h\d$/),
                      levelArr = [],
                      lastNum = 1,
                      lastRevNum = 1,
                      count = 0,
                      guid = 1,
                      id = 'directory' + (Math.random() + '').replace(/\D/, ''),
                      lastRevNum, num, elem;
                  while (titleElem.length) {
                      elem = titleElem.shift();
                      contentArr.push(elem.innerHTML);
                      num = +elem.tagName.match(/\d/)[0];
                      if (num > lastNum) {
                          levelArr.push(1);
                          lastRevNum += 1;
                      } else if (num === lastRevNum ||
                          num > lastRevNum && num <= lastNum) {
                          levelArr.push(0);
                          lastRevNum = lastRevNum;
                      } else if (num < lastRevNum) {
                          levelArr.push(num - lastRevNum);
                          lastRevNum = num;
                      }
                      count += levelArr[levelArr.length - 1];
                      lastNum = num;
                      elem.id = elem.id || (id + guid++);
                      titleId.push(elem.id);
                  }
                  if (count !== 0 && levelArr[0] === 1) levelArr[0] = 0;

                  return levelArr;
              })(article, contentArr, titleId);
              currentList = root = document.createElement('ul');
              dirNum = [0];
              for (i = 0, len = levelArr.length; i < len; i++) {
                  level = levelArr[i];
                  if (level === 1) {
                      list = document.createElement('ul');
                      if (!currentList.lastElementChild) {
                          currentList.appendChild(document.createElement('li'));
                      }
                      currentList.lastElementChild.appendChild(list);
                      currentList = list;
                      dirNum.push(0);
                  } else if (level < 0) {
                      level *= 2;
                      while (level++) {
                          if (level % 2) dirNum.pop();
                          currentList = currentList.parentNode;
                      }
                  }
                  dirNum[dirNum.length - 1]++;
                  li = document.createElement('li');
                  link = document.createElement('a');
                  link.name = '#' + titleId[i];
                  link.href = 'Javascript:;'
                  link.className = "post-aside-anchor"
                  link.title = 'è®¿é—®' + titleId[i];
                  link.innerHTML = !isDirNum ? contentArr[i] :
                      dirNum.join('.') + ' ' + contentArr[i];
                  li.appendChild(link);
                  currentList.appendChild(li);
              }
            directory.appendChild(root);
          };
        createPostDirectory(document.getElementById('post-content'), directoryContainer, true);
      };
      postDirectoryBuild();
    </script>
    <script>
      // gtag('config', GA_TRACKING_ID, {
      //   'page_title' : 'Blog',
      //   'page_path': window.location.pathname,
      //   'post_title': 'watttsdfasdf',
      // });

    </script>
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script>
        lang = hljs.initHighlightingOnLoad();
    </script>
</body>

</html>
