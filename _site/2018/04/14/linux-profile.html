
<!DOCTYPE>
<html lang="zh-cn" data-scribe-reduced-action-queue="true">
<head>
    <meta content='Linux 文件属性及操作 - Tate & Snow' name='title' />
    <meta content='Linux 文件属性及操作 - Tate & Snow' name='og:title' />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
    <title>Linux 文件属性及操作 - Tate & Snow</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Linux 文件属性及操作 - Tate & Snow</title>
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux 文件属性及操作 - Tate & Snow">
<meta name="twitter:keywords" content="Linux 文件属性及操作 - Tate & Snow" property='og:description' />
<meta property="og:type" content="article">
<meta property="og:title" content="Linux 文件属性及操作 - Tate & Snow">
<meta name="og:keywords" content="Linux 文件属性及操作 - Tate & Snow|Linux 文件属性及操作什么是 LinuxLinux 是一套免费使用和自由传播的类 Unix 操作系统，是一个基于 POSIX 和 UNIX 的多用户、多任务、支持多线程和多 CPU 的操作系统。下面介绍几个知识点:1、Linux ..."
  property='og:description' />
<link rel="icon" type="image/png" href="http://localhost:2333/style/favicons/favicon.ico" />
<link href="http://localhost:2333/style/favicons/favicon.ico" rel="shortcut icon" type="image/png">
<link rel="canonical" href="http://localhost:2333/">
<link rel="alternate" type="application/rss+xml" title="Liberxue" href="http://localhost:2333/feed.xml">
<meta charset="UTF-8">
<link rel="manifest" href="/manifest.json">
<link rel="shortcut icon" href="http://localhost:2333/style/favicons/favicon.ico" type="image/x-icon">
<meta name="keywords" content="Linux 文件属性及操作什么是 LinuxLinux 是一套免费使用和自由传播的类 Unix 操作系统，是一个基于 POSIX 和 UNIX 的多用户、多任务、支持多线程和多 CPU 的操作系统。下面介绍几个知识点:1、Linux ..." property='og:description'
/>
<meta name="description" content="Tate & Snow's Github blog" />
<link href="https://cdn.bootcss.com/highlight.js/9.10.0/styles/xcode.min.css" rel="stylesheet">
<link href="http://localhost:2333/style/theme.css" rel="stylesheet"> 
<meta content='http://localhost:2333/2018/04/14/linux-profile.html' property='og:url' />
<meta content="http://localhost:2333/2018/04/14/linux-profile.html|Linux 文件属性及操作什么是 LinuxLinux 是一套免费使用和自由传播的类 Unix 操作系统，是一个基于 POSIX 和 UNIX 的多用户、多任务、支持多线程和多 CPU 的操作系统。下面介绍几个知识点:1、Linux ..." property='og:description'
/>
<meta content="article" property="og:type" /> 

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-136311746-1"></script>
<!-- <script async src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script> -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"/>
<script>
  window.dataLayer = window.dataLayer || [];
  window.GA_TRACKING_ID = 'UA-136311746-1'
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('set', {
    'country': 'US',
    'currency': 'USD',
    'description': 'fuck',
  });
  gtag('config', GA_TRACKING_ID, {
    'custom_map': {
      'dimension1': 'post_title',
    },
    'post_title': 'test',
  });
</script>
<meta content="" property="fb:app_id" />
<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Linux 文件属性及操作 | Tate &amp; Snow</title>
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="Linux 文件属性及操作" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Linux 文件属性及操作" />
<meta property="og:description" content="Linux 文件属性及操作" />
<link rel="canonical" href="http://localhost:2333/2018/04/14/linux-profile.html" />
<meta property="og:url" content="http://localhost:2333/2018/04/14/linux-profile.html" />
<meta property="og:site_name" content="Tate &amp; Snow" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-04-14T14:48:00+08:00" />
<script type="application/ld+json">
{"description":"Linux 文件属性及操作","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:2333/2018/04/14/linux-profile.html"},"@type":"BlogPosting","url":"http://localhost:2333/2018/04/14/linux-profile.html","headline":"Linux 文件属性及操作","dateModified":"2018-04-14T14:48:00+08:00","datePublished":"2018-04-14T14:48:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<script>
  (function (d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s);
    js.id = id;
    js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&appId=";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>

</head>

<body class="dark-theme" gtools_scp_screen_capture_injected="true">
    <header id="header" class="header bg-white">
        <div class="navbar-container">
            <a href="Javascript:;" onclick="onClickLogo()" title="访问 Tate & Snow" class="navbar-logo menu-logo">
                <img src="http://localhost:2333/style/images/tate.png" alt="Tate & Snow"> </a>
            <!-- <a href="/?tate" title="访问 Tate & Snow" class="navbar-logo">Tate & Snow</a>   -->
            <div class="navbar-menu">
                
                  <a class=" menu-item-categories " href="Javascript:;" onclick="onClickMenu('首页', '/')" title="访问 首页" data-hover="首页">首页</a>
                
                  <a class=" menu-item-categories " href="Javascript:;" onclick="onClickMenu('前端', '/front')" title="访问 前端" data-hover="前端">前端</a>
                
                  <a class=" menu-item-categories " href="Javascript:;" onclick="onClickMenu('历史', '/history')" title="访问 历史" data-hover="历史">历史</a>
                
                  <a class=" menu-item-categories " href="Javascript:;" onclick="onClickMenu('其他', '/other')" title="访问 其他" data-hover="其他">其他</a>
                
                  <a class=" menu-item-categories " href="Javascript:;" onclick="onClickMenu('标签', '/tags')" title="访问 标签" data-hover="标签">标签</a>
                
                  <a class=" menu-item-about " href="Javascript:;" onclick="onClickMenu('关于', '/README')" title="访问 关于" data-hover="关于">关于</a>
                
            </div>
            <!-- <div class="navbar-menu">
                
                <a href="http://localhost:2333/">首页</a>
                
                <a href="http://localhost:2333/front">前端</a>
                
                <a href="http://localhost:2333/history">历史</a>
                
                <a href="http://localhost:2333/other">其他</a>
                
                <a href="http://localhost:2333/tags">标签</a>
                
                <a href="http://localhost:2333/README">关于</a>
                
            </div> -->
            <div class="navbar-search menu-item-search" onclick="onClickSearch()">
                <span class="icon-search"></span>
                <form id="cb-search-btn" role="search">
                    <span class="search-box">
                        <input type="text" class="input" id="cb-search-content" required="true" placeholder="标题 标签..." maxlength="30" autocomplete="off">
                    </span>
                </form>
            </div>
            <div class="navbar-mobile-menu" onclick="">
                <span class="icon-menu cross">
                    <span class="middle"></span>
                </span>
                <ul>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('首页', 'http://localhost:2333/')">首页</a>
                    </li>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('前端', 'http://localhost:2333/front')">前端</a>
                    </li>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('历史', 'http://localhost:2333/history')">历史</a>
                    </li>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('其他', 'http://localhost:2333/other')">其他</a>
                    </li>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('标签', 'http://localhost:2333/tags')">标签</a>
                    </li>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('关于', 'http://localhost:2333/README')">关于</a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </header>
    <a href="#header" class="back-to-top" onclick="onClickTop('Linux 文件属性及操作')">⤴Top⤴</a>
    <div class="post-header-thumb bg-white}">
        <div class="post-header-thumb-op"></div>
        <div class="post-header-thumb">
            <div class="post-header-thumb-container">
                <h1 class="post-title" itemprop="name headline">
                    Linux 文件属性及操作</h1>
                <div class="post-data">
                    <time datetime="2018-04-14 14:48:00" itemprop="datePublished">
                      发布时间：2018-04-14 14:48:00
                      &nbsp;&nbsp;&nbsp;
                      
                        修改时间：2019-03-20 12:03:00
                      
                    </time>
                    <a onclick="onClickCategory('后端')" href="Javascript:;" title="访问 后端" data-hover="博客分类: 后端">博客分类: 后端</a>
                    <!-- <a href="#read"> 阅读次数: comments</a>  -->
                </div>
                
                <div class="post-tags">
                       
                    <a class="menu-item-tags" href="Javascript:;" onclick="onClickTag('Linux')" title="访问Linux" data-hover="Linux">
                        Linux
                        <span>(3)</span>
                        
                    </a>
                       
                </div>
            </div>
        </div>
    </div>
    <article class="main-content post-page" itemscope itemtype="http://schema.org/Article">
        <div class="post-header">
            <h1 class="post-title" itemprop="name headline">
                Linux 文件属性及操作</h1>
            <div class="post-data">
                <time datetime="2018-04-14 14:48:00" itemprop="datePublished">2018-04-14 14:48:00</time>
            </div>
        </div>
        <div id="post-content" class="post-content" itemprop="articleBody">
            <p class="post-tags">
                   
                <a href="Javascript:;" onclick="onClickTag('Linux')" title="访问Linux" data-hover="Linux">
                    Linux
                    <span>(3)</span>
                    </a>
                   
            </p>
            <h1 id="linux-文件属性及操作">Linux 文件属性及操作</h1>

<h2 id="什么是-linux">什么是 Linux</h2>

<p><strong>Linux</strong> 是一套免费使用和自由传播的类 <strong><a href="https://zh.wikipedia.org/wiki/UNIX">Unix</a></strong> 操作系统，是一个基于 <a href="https://zh.wikipedia.org/wiki/POSIX">POSIX</a> 和 UNIX 的多用户、多任务、支持多线程和多 CPU 的操作系统。下面介绍几个知识点:</p>

<p>1、Linux 的发行版</p>

<p>就是将 Linux 内核与应用软件做一个打包。目前市面上较知名的发行版有: <a href="https://zh.wikipedia.org/wiki/Red_Hat_Linux">RedHat</a>、<a href="https://zh.wikipedia.org/wiki/CentOS">CentOS</a>、<a href="https://zh.wikipedia.org/wiki/Fedora">Fedora</a>、<a href="https://zh.wikipedia.org/wiki/Debian">Debian</a>、<a href="https://zh.wikipedia.org/wiki/Ubuntu">Ubuntu</a> 等。</p>

<p>2、Linux 远程登录</p>

<p>Linux 系统中是通过 <strong><a href="https://zh.wikipedia.org/wiki/Secure_Shell">ssh(secure shell)</a></strong> 加密的网络传输协议服务实现的远程登录功能，默认 ssh 服务端口号为 22，具体可以<a href="http://localhost:2333/2019/02/03/linux-ssh-rz-sz.html">参考这篇博客</a> 👈</p>

<ul>
  <li>
    <p>Window 系统上 Linux 远程登录客户端有 SecureCRT、Putty、SSH Secure Shell 等。</p>
  </li>
  <li>
    <p>macOS 系统上使用终端知名进行远程访问:</p>
  </li>
</ul>

<pre><code class="language-SHELL">ssh root@example.com

# 例如
ssh 591550@10.88.22.1
</code></pre>

<h2 id="系统目录结构">系统目录结构</h2>

<p><img src="http://www.runoob.com/wp-content/uploads/2014/06/003vPl7Rty6E8kZRlAEdc690.jpg" alt="系统目录结构" /></p>

<p>Linux 中根目录和主目录的区分:</p>

<ul>
  <li>根目录是 <strong>/</strong>，是树状形式目录的根，只有一个。</li>
  <li>主目录 <strong>~</strong> 是用户的 home 目录，添加用户的时候指定的。对于不同用户，主目录不同。如对于用户名为 tate 的用户，主目录是 /home/user，root 用户例外，其主目录是 /root。</li>
</ul>

<h2 id="文件属性">文件属性</h2>

<h3 id="属性图解">属性图解</h3>

<pre><code class="language-SHELL"># ls -l
total 112
drwxr-xr-x    4 tate  staff    128 Jan 19 09:23 Applications
drwxrwxrwx    2 tate  staff     64 Jan 19 09:04 Creative Cloud Files
</code></pre>

<p><img src="http://localhost:2333/style/images/smms/linux-file-property.png" alt="linux-file-property.png" /></p>

<p>针对第一部分的文件属性可查看下图:</p>

<p><img src="http://www.runoob.com/wp-content/uploads/2014/06/363003_1227493859FdXT.png" alt="文件属性" /></p>

<p>第一个字符(如上述 ‘d’)代表这个文件是目录、文件或链接文件等等。</p>

<ul>
  <li>[ <strong>d</strong> ] - 目录</li>
  <li>[ <strong>-</strong> ] - 文件</li>
  <li>[ <strong>l</strong> ] - 链接文档(link file)</li>
  <li>[ <strong>b</strong> ] - 装置文件里面的可供储存的接口设备(可随机存取装置)</li>
  <li>[ <strong>c</strong> ] - 装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)</li>
</ul>

<p>接下来的字符中，以三个为一组，且均为『rwx』 的三个参数的组合，<strong>属主</strong>代表该文件的拥有者，<strong>属组</strong>代表所有者的同组用户。其中:</p>

<ul>
  <li>[ <strong>r</strong> ] - 可读(read)</li>
  <li>[ <strong>w</strong> ] - 可写(write)</li>
  <li>[ <strong>x</strong> ] - 可执行(execute)</li>
</ul>

<h3 id="属性更改命令">属性更改命令</h3>

<p>Linux 涉及文件属性更改的命令有:</p>

<ul>
  <li><strong>chgrp</strong> - 更改文件属组</li>
  <li><strong>chown</strong> - 更改文件属主，也可以同时更改文件属组</li>
  <li><strong>chmod</strong> - 更改文件的访问权限</li>
</ul>

<h4 id="chown">chown</h4>

<pre><code class="language-SHELL"># 参数 -R 表示是否递归应用至子目录
chown [–R] 属主名 文件名
chown [-R] 属主名:属组名 文件名
</code></pre>

<p>栗子如下:</p>

<pre><code class="language-SHELL">chown bin install.log
# 将文件属主更改为 bin 账号
# -rw-r--r--  1 bin  users 68495 Jun 25 08:53 install.log

chown root:root install.log
# 将文件属主和属组改为 root
# -rw-r--r--  1 root root 68495 Jun 25 08:53 install.log
</code></pre>

<h4 id="chmod">chmod</h4>

<p>Linux 基本权限就有九个，分别是 <strong>user/group/others</strong> 三种身份各有自己的 <strong>read/write/execute</strong> 权限。文件属性有两种设置方法，一种是数字，一种是符号:</p>

<ul>
  <li><strong>符号 r –&gt; 数字 4</strong></li>
  <li><strong>符号 w –&gt; 数字 2</strong></li>
  <li><strong>符号 x –&gt; 数字 1</strong></li>
</ul>

<p>1、根据数字更改权限的方法:</p>

<pre><code class="language-SHELL">chmod [-R] xyz 文件或目录
</code></pre>

<p>举个栗子 🌰，针对文件权限 <code class="highlighter-rouge">-rwxrwx---</code>:</p>

<pre><code class="language-TEXT">owner = rwx = 4+2+1 = 7
group = rwx = 4+2+1 = 7
others= --- = 0+0+0 = 0
</code></pre>

<pre><code class="language-SHELL"># -rw-r--r--    1 tate  staff     0B Apr 14 10:00 test.txt

chmod 777 test.txt
# -rwxrwxrwx    1 tate  staff     0B Apr 14 10:00 test.txt
</code></pre>

<p>2、根据符号类型更改权限的方法:</p>

<pre><code class="language-SHELL">chmod u=rwx,g=rx,o=r 文件或目录
</code></pre>

<ul>
  <li><strong>符号 u –&gt; 属主 user</strong></li>
  <li><strong>符号 g –&gt; 属组 group</strong></li>
  <li><strong>符号 o –&gt; 其他 others</strong></li>
  <li><strong>符号 a –&gt; 全部</strong></li>
</ul>

<p>设定权限的三种方式:</p>

<ul>
  <li><strong>符号 +</strong> - 加入某个权限，如 [rwx]</li>
  <li><strong>符号 -</strong> - 去除某个权限，如 [rwx]</li>
  <li><strong>符号 =</strong> - 设定某个权限，如 [rwx]</li>
</ul>

<p>举个栗子 🌰:</p>

<pre><code class="language-SHELL">chmod a-x test.txt
# 去除所有用户的可执行权限

chmod o+rw test.txt
# 增加其他用户的读写权限
</code></pre>

<h2 id="文件操作">文件操作</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">命令</th>
      <th style="text-align: left">描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>ls</strong></td>
      <td style="text-align: left">列出文件或目录</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>cd</strong></td>
      <td style="text-align: left">切换目录</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>pwd</strong></td>
      <td style="text-align: left">显示目前的目录</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>mkdir</strong></td>
      <td style="text-align: left">创建一个新的目录</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>rmdir</strong></td>
      <td style="text-align: left">删除一个空的目录</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>touch</strong></td>
      <td style="text-align: left">创建一个空的文件</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>rm</strong></td>
      <td style="text-align: left">移除文件或目录</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>cp</strong></td>
      <td style="text-align: left">复制文件或目录</td>
    </tr>
  </tbody>
</table>

<h3 id="ls">ls</h3>

<pre><code class="language-SHELL">ls -[adl] [目录]
</code></pre>

<p><strong>ls</strong> 命令用来列出文件或目录，参数为:</p>

<ul>
  <li><strong>-a</strong> - 全部的文件，连同隐藏档(开头为 . 的文件)一起列出来</li>
  <li><strong>-d</strong> - 仅列出目录本身，而不是列出目录内的文件数据</li>
  <li><strong>-l</strong> - 长数据串列出，包含文件的属性与权限等数据</li>
</ul>

<h3 id="mkdir">mkdir</h3>

<p><strong>mkdir</strong> 命令用来创建目录，参数为:</p>

<ul>
  <li><strong>-m</strong> - 顺带配置权限</li>
  <li><strong>-p</strong> - 即 –parents，若所要建立目录的上层目录目前尚未建立，则会一并建立上层目录</li>
</ul>

<pre><code class="language-SHELL">mkdir -m 711 test
</code></pre>

<pre><code class="language-SHELL">mkdir test/test1
# No such file or directory

mkdir -p test/test1
</code></pre>

<h3 id="rm">rm</h3>

<p><strong>rm</strong> 命令用来删除文件或目录，参数为:</p>

<ul>
  <li><strong>-f</strong> - 就是 force 的意思，忽略不存在的文件，不会出现警告信息</li>
  <li><strong>-i</strong> - 互动模式，在删除前会询问使用者是否动作</li>
  <li><strong>-r</strong> - 递归删除目录，谨慎使用</li>
</ul>

<blockquote>
  <p>对于删除目录来讲，<strong>rmdir</strong> 仅能删除空的目录，可以使用 <strong>rm -r</strong> 命令来删除目录</p>
</blockquote>

<h3 id="cp">cp</h3>

<p><a href="http://man.linuxde.net/cp"><strong>cp</strong></a> 可以复制文件或目录，<code class="highlighter-rouge">-r</code> 参数可以实现递归拷贝:</p>

<pre><code class="language-SHELL"># 将文件 file 复制到目录 /usr/men/tmp 下，并改名为 file1
cp file /usr/men/tmp/file1

# 将目录 /usr/men 下的所有文件及其子目录复制到目录 /usr/zh 中，如果目标目录不存在则自动创建
cp -r /usr/men /usr/zh

# 交互式地将目录 /usr/men 中的以 m 打头的所有 .c 文件复制到目录 /usr/zh 中
cp -i /usr/men m*.c /usr/zh
</code></pre>

<p>我们在 Linux 下使用 cp 命令复制文件时候，有时候会需要覆盖一些同名文件，覆盖文件的时候都会有提示：需要不停的按 Y 来确定执行覆盖。因此可以采用下列操作:</p>

<pre><code class="language-SHELL"># 复制目录 aaa 下所有到 /bbb 目录下，这时如果 /bbb 目录下有和 aaa 同名的文件，需要按 Y 来确认并且会略过 aaa 目录下的子目录。
cp aaa/* /bbb

# 这次依然需要按 Y 来确认操作，但是没有忽略子目录。
cp -r aaa/* /bbb

# 依然需要按 Y 来确认操作，并且把 aaa 目录以及子目录和文件属性也传递到了 /bbb。
cp -r -a aaa/* /bbb

# 成功，没有提示按 Y、传递了目录属性、没有略过目录。
\cp -r -a aaa/* /bbb
</code></pre>

<h2 id="文件查看">文件查看</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">命令</th>
      <th style="text-align: left">描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>cat</strong></td>
      <td style="text-align: left">由第一行开始显示文件内容</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>tac</strong></td>
      <td style="text-align: left">从最后一行开始显示，可以看出 tac 是 cat 的反写</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>nl</strong></td>
      <td style="text-align: left">显示的时候，顺道输出行号</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>more</strong></td>
      <td style="text-align: left">一页一页的显示文件内容，”空格”代表向下翻页，”Enter”代表向下翻一行，”q”为退出</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>less</strong></td>
      <td style="text-align: left">与 more 类似，但是比 more 更好的是，他可以往前翻页</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>head</strong></td>
      <td style="text-align: left">只显示头几行，参数 -n 表示行数</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>tail</strong></td>
      <td style="text-align: left">只显示后几行，参数 -n 表示行数</td>
    </tr>
  </tbody>
</table>

<h2 id="文件编辑-vim">文件编辑 vim</h2>

<p><strong>vim</strong> 是从 vi 发展出来的一个文本编辑器。代码补完、编译及错误跳转等方便编程的功能特别丰富。基本上 vi/vim 共分为三种模式，分别是:</p>

<ul>
  <li><strong>命令模式</strong>(Command mode)</li>
  <li><strong>输入模式</strong>(Insert mode)</li>
  <li><strong>底线命令模式</strong>(Last line mode)</li>
</ul>

<p>1、命令模式</p>

<p>启动 vim 时便进入命令模式，此时支持常用的命令:</p>

<ul>
  <li><strong>i/o/a</strong> - 切换到输入模式，以输入字符，区别在于进入到输入模式时光标的位置不同</li>
  <li><strong>:</strong> - 切换到底线命令模式</li>
  <li><strong>x</strong> - 删除当前光标所在处的字符，相当于 Del;大写 X 则删除光标之前的字符，相当于退格键</li>
  <li><strong>dd</strong> - 删除当前光标所在一整行，ndd 则删除当前光标及其以下的 n 行</li>
  <li><strong>gg</strong> - 光标移动到该档案的第一行</li>
  <li><strong>0/[home]</strong> - 光标移动到该行的首个字符处；反之则为 $ 或功能键[End]</li>
  <li><strong>n[enter]</strong> - n 为输入的数字，光标向下移动 n 行；配合 [space] 则为向右移动这一行的 n 个字符</li>
  <li><strong>.</strong> - 重复上一个动作</li>
  <li><strong>u</strong> - 复原上一个动作</li>
  <li><strong>/</strong> - 搜索，n 跳转下一个</li>
</ul>

<p>2、输入模式</p>

<p>在输入模式中可以进行常规的编写，按 [HOME/END]，移动光标到行首/行尾；按 [ESC] 退出该模式，切换到命令模式。</p>

<p>3、底线命令模式</p>

<p>底线命令模式可以输入单个或多个字符的命令，按 [ESC] 退出该模式，切换到命令模式:</p>

<ul>
  <li><strong>q</strong> - 退出程序</li>
  <li><strong>q!</strong> - 强制退出程序</li>
  <li><strong>w</strong> - 保存文件</li>
  <li><strong>x</strong> - 保存并退出程序，同 wq</li>
  <li><strong>set nu</strong> - 显示行数</li>
</ul>

<blockquote>
  <p>在编辑文件的时候如果异常退出，会自动生成 swp 文件以保证文件的安全性，导致每次启动 vim 编辑该文件时都会进行扰人的提示，解决的办法是 <code class="highlighter-rouge">rm -f .[basename].swp</code>。</p>
</blockquote>

<p><img src="http://www.runoob.com/wp-content/uploads/2014/07/vim-vi-workmodel.png" alt="vim" /></p>

<h2 id="bash_profile">.bash_profile</h2>

<p>这里介绍下 linux 中几个文件的区别:</p>

<ul>
  <li><strong>/etc/profile</strong> - The systemwide initialization file, executed for login shells</li>
  <li><strong>~/.bash_profile</strong> - The personal initialization file, executed for login shells</li>
  <li><strong>~/.bashrc</strong> - The individual per-interactive-shell startup file, executed for interactive non-login shells</li>
</ul>

<p>首先 <code class="highlighter-rouge">/etc</code> 目录下的一般是针对所有用户生效的，而 <code class="highlighter-rouge">~</code> 主目录下的只针对当前用户生效。然后 <code class="highlighter-rouge">profile</code> 和 <code class="highlighter-rouge">rc</code> 的主要区别在于 shell 的两种不同属性:</p>

<ul>
  <li>登录
    <ul>
      <li><strong>登录</strong> - 用户通过输入用户名/密码(或证书认证)后启动的 shell；或者通过带有 <code class="highlighter-rouge">-l|--login</code> 参数的 bash 命令启动的 shell，如 系统启动、远程登录、使用 <code class="highlighter-rouge">su -</code> 切换用户、通过 <code class="highlighter-rouge">bash --login</code> 命令启动 bash 等</li>
      <li><strong>非登录</strong> - 图形界面启动终端、使用 <code class="highlighter-rouge">su</code> 切换用户、通过 <code class="highlighter-rouge">bash</code> 命令启动 bash 等</li>
    </ul>
  </li>
  <li>交互
    <ul>
      <li><strong>交互式</strong> - 登录、输入并执行命令、登出。当登出的时候，这个 shell 就终止了</li>
      <li><strong>非交互式</strong> - 执行预先设定的命令，当它读到文件的结尾，这个 shell 就终止了</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>A login shell is one whose first character of argument zero is a -, or one started with the –login option</p>
</blockquote>

<pre><code class="language-SHELL">echo $0
# -bash 即为登录 shell

bash --login
echo $0
# bash 也为登录 shell，但其他情况下是 非登录 shell
</code></pre>

<p>对于用户而言，<strong>登录 shell</strong> 和 <strong>非登陆 shell</strong> 的主要区别在于启动 shell 时所执行的 startup 文件不同，前者执行 <code class="highlighter-rouge">~/.bash_profile</code>，后者执行 <code class="highlighter-rouge">~/.bashrc</code>。</p>

<blockquote>
  <p>上述讨论的都是针对 bash，如果使用的是 zsh，则只会执行对应的 <code class="highlighter-rouge">/etc/zshrc</code> 和 <code class="highlighter-rouge">~/.zshrc</code> 或者 <code class="highlighter-rouge">/etc/zprofile</code>。</p>
</blockquote>

<p>这里额外扯一下，涉及到用 <code class="highlighter-rouge">alias</code> 设置别名的话，最好单独建一个文件进行管理，比如新建 <code class="highlighter-rouge">.bash_aliases</code>，然后写上别名，之后在 <code class="highlighter-rouge">~/.bash_profile</code> 里添加:</p>

<pre><code class="language-SHELL">[[ -f ~/.bash_aliases ]] &amp;&amp; . ~/.bash_aliases

# or
if ［ -f ~/.bash_aliases ］; then
  . ~/.bash_aliases
fi

# or
test -f ~/.bash_aliases &amp;&amp; source ~/.bash_aliases
</code></pre>

<h2 id="参考链接">参考链接</h2>

<ol>
  <li><a href="http://www.runoob.com/linux/linux-intro.html">菜鸟 - linux 教程</a></li>
  <li><a href="https://blog.csdn.net/sch0120/article/details/70256318">关于 .bash_profile 和 .bashrc 区别的总结</a> By Charles_Shih</li>
  <li><a href="https://medium.com/@kingnand.90/what-is-the-difference-between-bash-profile-and-bashrc-d4c902ac7308">What is the difference between .bash_profile and .bashrc?</a> By King Dink</li>
</ol>
 
<div id="gitalk-container"></div>
<script>
    var gitalk = new Gitalk({
      enable: true,
      clientID: '020f142489f80c92b097',
      clientSecret: '1fa083372b44031cf1b8249251515c4e3d54c69d',
      repo: 'tate-young.github.io',
      owner: 'Tate-Young',
      admin: ['Tate-Young'],
      id: location.pathname,      // Ensure uniqueness and length less than 50
      distractionFreeMode: false  // Facebook-like distraction free mode
    })

    gitalk.render('gitalk-container')
</script>
<!-- disqus -->
<!-- <div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */

    var disqus_config = function () {
        this.page.url = 'https://tate-young.github.io/2018/04/14/linux-profile.html';
        this.page.identifier = '/2018/04/14/linux-profile';
        this.page.title = 'Linux 文件属性及操作';
    };

    (function () { // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document,
            s = d.createElement('script');

        s.src = '//tate.disqus.com/embed.js'; // IMPORTANT: Replace EXAMPLE with your forum shortname!

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript> -->


            <!-- <p class="post-info">
			本文由 <a href="/">liberxue</a> 创作，采用 <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="external nofollow">知识共享署名4.0</a> 国际许可协议进行许可<br>本站文章除注明转载/出处外，均为本站原创或翻译，转载前请务必署名<br>最后编辑时间为:2018-04-14 14:48:00</p> -->
        </div>
    </article>

    <!-- <div class="related-post-lists">
	<div class="post-lists">
		<div class="post-lists-body">
					<div class="post-list-item">
				<div class="post-list-item-container">
					<div class="item-label">
						<div class="item-title"><a href="induction.html">归纳的随想</a></div>
						<div class="item-meta clearfix">
														<div class="item-meta-ico bg-ico-image" style="background: url('../usr/themes/pinghsu/images/bg-ico.png') no-repeat;background-size: 40px auto;"></div>
	                        							<div class="item-meta-cat"><a href="../category/thoughts/index.html">Thoughts</a></div>
						</div>
					</div>
				</div>
			</div>
				</div>
	</div>
</div> -->

    <!-- <footer class="footer bg-white">
	<div class="footer-social">
		<div class="footer-container clearfix">
			<div class="social-list">
	 <a class="social segmentfault" target="blank" href="https://segmentfault.com/u/liberxue" title="访问 LiberXue_Twitter" data-hover="Segmentfault">Segmentfault</a>
    <a class="social github" target="blank" href="https://github.com/liberxue" title="访问 LiberXue_Twitter" data-hover="GitHub">GitHub</a>
    <a class="social twitter" target="blank" href="http://twitter.com/liberxue" title="访问 LiberXue_Twitter" data-hover="Twitter">Twitter</a>
     <a class="social stackoverflow" target="blank" href="https://stackoverflow.com/users/6902190/liberxue" title="访问 LiberXue_stackoverflow" data-hover="StackOverflow">StackOverflow</a>
          <a class="social oschina" target="blank" href="https://my.oschina.net/bolanzw" title="访问 LiberXue_Oschina" data-hover="Oschina">Oschina</a>
     <a class="social rss" target="blank" href="/feed.xml"title="访问 LiberXue_RSS" data-hover="RSS">RSS</a>
	</div>
		</div>
	</div>
	<div class="footer-meta">
        <div class="footer-container">
            <div class="meta-item meta-copyright">
                <div class="meta-copyright-info">
                    <a href="/" class="info-logo">
                         <img src="http://localhost:2333/style/images/logo-liberxue.png"   title="访问 LiberXue_blog" data-hover="LiberXue_blog" alt="LiberXue_blog" /> </a>
                    <div class="info-text">
                        <p>Theme is <a href="http://www.liberxue.com/2017/08/03/Jekyllthemes.html" title="访问 Jekyll liberxue主题"  data-hover="Jekyll liberxue"target="_blank">Jekyll liberxue</a> by <a href="http://www.liberxue.com/about" target="_blank">liberxue</a></p>
                        <p>Powered by <a href="http://localhost:2333/tags/#Jekyll" title="Jekyll" data-hover="Jekyll" target="_blank" rel="nofollow">Jekyll</a></p>
                        <p>&copy; 2017 <a href="/feed.xml"  title="访问 liberxue blog RSS" data-hover="liberxue blog RSS">liberxue blog RSS</a></p>
                        <p>总计文章：篇</p>
                      <p>本blog已开源点击Fork</p><iframe src="http://ghbtns.com/github-btn.html?user=liberxue&repo=liberxue.github.io&type=fork&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe>
                    </div>
                </div>
            </div>
            <div class="meta-item meta-posts">
                <h3 class="meta-title">置顶文章</h3>
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
            </div>
            <div class="meta-item meta-comments">
                <h3 class="meta-title">最新文章</h3>
  
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
</div>
		</div>
    </div>
</footer> -->
<script src="//cdn.bootcss.com/jquery/2.2.2/jquery.min.js"></script>
<script src="//cdn.bootcss.com/bootstrap-3-typeahead/4.0.2/bootstrap3-typeahead.js"></script>
<script async src="/search/js/520.js"></script>
<script async src="/search/js/gtag.js"></script>
<script async src="/search/live2d/autoload.js"></script>
<!-- <script src="/search/js/canvas.js"></script> -->

<script>
    $(function () {
        setTimeout(function () {
            $('code').removeClass('hljs');
            $('code').removeClass('language');
        }, 90);
    });
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    <!--liberxueconnnet-menu-->
    <div id="directory-content" class="directory-content">
        <div id="directory"></div>
    </div>
    <!--liberxueconnnet-menu-->
    <script>
      const directoryContainer = document.getElementById('directory')
      const postTitle = document.getElementsByClassName('post-title')[0]
      var postDirectoryBuild = function () {
        var postChildren = function children(childNodes, reg) {
          var result = [],
              isReg = typeof reg === 'object',
              isStr = typeof reg === 'string',
              node, i, len;
          for (i = 0, len = childNodes.length; i < len; i++) {
            node = childNodes[i];
            if ((node.nodeType === 1 || node.nodeType === 9) &&
              (!reg ||
                  isReg && reg.test(node.tagName.toLowerCase()) ||
                  isStr && node.tagName.toLowerCase() === reg)) {
                result.push(node);
              }
            }
            return result;
          },
          createPostDirectory = function (article, directory, isDirNum) {
            var contentArr = [],
                titleId = [],
                levelArr, root, level,
                currentList, list, li, link, i, len;
            levelArr = (function (article, contentArr, titleId) {
                  var titleElem = postChildren(article.childNodes, /^h\d$/),
                      levelArr = [],
                      lastNum = 1,
                      lastRevNum = 1,
                      count = 0,
                      guid = 1,
                      id = 'directory' + (Math.random() + '').replace(/\D/, ''),
                      lastRevNum, num, elem;
                  while (titleElem.length) {
                      elem = titleElem.shift();
                      contentArr.push(elem.innerHTML);
                      num = +elem.tagName.match(/\d/)[0];
                      if (num > lastNum) {
                          levelArr.push(1);
                          lastRevNum += 1;
                      } else if (num === lastRevNum ||
                          num > lastRevNum && num <= lastNum) {
                          levelArr.push(0);
                          lastRevNum = lastRevNum;
                      } else if (num < lastRevNum) {
                          levelArr.push(num - lastRevNum);
                          lastRevNum = num;
                      }
                      count += levelArr[levelArr.length - 1];
                      lastNum = num;
                      elem.id = elem.id || (id + guid++);
                      titleId.push(elem.id);
                  }
                  if (count !== 0 && levelArr[0] === 1) levelArr[0] = 0;

                  return levelArr;
              })(article, contentArr, titleId);
              currentList = root = document.createElement('ul');
              dirNum = [0];
              for (i = 0, len = levelArr.length; i < len; i++) {
                  level = levelArr[i];
                  if (level === 1) {
                      list = document.createElement('ul');
                      if (!currentList.lastElementChild) {
                          currentList.appendChild(document.createElement('li'));
                      }
                      currentList.lastElementChild.appendChild(list);
                      currentList = list;
                      dirNum.push(0);
                  } else if (level < 0) {
                      level *= 2;
                      while (level++) {
                          if (level % 2) dirNum.pop();
                          currentList = currentList.parentNode;
                      }
                  }
                  dirNum[dirNum.length - 1]++;
                  li = document.createElement('li');
                  link = document.createElement('a');
                  link.name = '#' + titleId[i];
                  link.href = 'Javascript:;'
                  link.className = "post-aside-anchor"
                  link.title = '访问' + titleId[i];
                  link.innerHTML = !isDirNum ? contentArr[i] :
                      dirNum.join('.') + ' ' + contentArr[i];
                  li.appendChild(link);
                  currentList.appendChild(li);
              }
            directory.appendChild(root);
          };
        createPostDirectory(document.getElementById('post-content'), directoryContainer, true);
      };
      postDirectoryBuild();
    </script>
    <script>
      // gtag('config', GA_TRACKING_ID, {
      //   'page_title' : 'Blog',
      //   'page_path': window.location.pathname,
      //   'post_title': 'watttsdfasdf',
      // });

    </script>
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script>
        lang = hljs.initHighlightingOnLoad();
    </script>
</body>

</html>
