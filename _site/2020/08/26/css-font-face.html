
<!DOCTYPE>
<html lang="zh-cn" data-scribe-reduced-action-queue="true">
<head>
    <meta content='åŠ¨æ€åŠ è½½å­—ä½“ - Tate & Snow' name='title' />
    <meta content='åŠ¨æ€åŠ è½½å­—ä½“ - Tate & Snow' name='og:title' />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
    <title>åŠ¨æ€åŠ è½½å­—ä½“ - Tate & Snow</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>åŠ¨æ€åŠ è½½å­—ä½“ - Tate & Snow</title>
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="åŠ¨æ€åŠ è½½å­—ä½“ - Tate & Snow">
<meta name="twitter:keywords" content="åŠ¨æ€åŠ è½½å­—ä½“ - Tate & Snow" property='og:description' />
<meta property="og:type" content="article">
<meta property="og:title" content="åŠ¨æ€åŠ è½½å­—ä½“ - Tate & Snow">
<meta name="og:keywords" content="åŠ¨æ€åŠ è½½å­—ä½“ - Tate & Snow|åŠ¨æ€åŠ è½½å­—ä½“ç°åœ¨æ˜¯è¿™ä¹ˆä¸€ä¸ªæƒ…å†µï¼Œåå°æœ‰ä¸ªå¯Œæ–‡æœ¬ç»„ä»¶ï¼Œå¯ä»¥é…ç½®å¾ˆå¤šå­—ä½“ï¼Œå‰å°æ¸²æŸ“çš„è¯è¦æ ¹æ®è¿™äº›é…ç½®çš„å­—ä½“åŠ¨æ€å»åŠ è½½ã€‚å¦‚ä½•ç”¨æœ€ä¼˜é›…çš„æ–¹å¼å»å¤„ç†å‘¢ï¼Œè¿™å°±æ˜¯ä¸‹é¢è¦è®¨è®ºçš„ï¼Œå½“ç„¶å¯èƒ½æœ‰æ›´å¥½åœ°æ–¹å¼ ğŸ¤”ï¸@font-facelocal() / url..."
  property='og:description' />
<link rel="icon" type="image/png" href="http://localhost:2333/style/favicons/favicon.ico" />
<link href="http://localhost:2333/style/favicons/favicon.ico" rel="shortcut icon" type="image/png">
<link rel="canonical" href="http://localhost:2333/">
<link rel="alternate" type="application/rss+xml" title="Liberxue" href="http://localhost:2333/feed.xml">
<meta charset="UTF-8">
<link rel="manifest" href="/manifest.json">
<link rel="shortcut icon" href="http://localhost:2333/style/favicons/favicon.ico" type="image/x-icon">
<meta name="keywords" content="åŠ¨æ€åŠ è½½å­—ä½“ç°åœ¨æ˜¯è¿™ä¹ˆä¸€ä¸ªæƒ…å†µï¼Œåå°æœ‰ä¸ªå¯Œæ–‡æœ¬ç»„ä»¶ï¼Œå¯ä»¥é…ç½®å¾ˆå¤šå­—ä½“ï¼Œå‰å°æ¸²æŸ“çš„è¯è¦æ ¹æ®è¿™äº›é…ç½®çš„å­—ä½“åŠ¨æ€å»åŠ è½½ã€‚å¦‚ä½•ç”¨æœ€ä¼˜é›…çš„æ–¹å¼å»å¤„ç†å‘¢ï¼Œè¿™å°±æ˜¯ä¸‹é¢è¦è®¨è®ºçš„ï¼Œå½“ç„¶å¯èƒ½æœ‰æ›´å¥½åœ°æ–¹å¼ ğŸ¤”ï¸@font-facelocal() / url..." property='og:description'
/>
<meta name="description" content="Tate & Snow's Github blog" />
<link href="https://cdn.bootcss.com/highlight.js/9.10.0/styles/xcode.min.css" rel="stylesheet">
<link href="http://localhost:2333/style/theme.css" rel="stylesheet"> 
<meta content='http://localhost:2333/2020/08/26/css-font-face.html' property='og:url' />
<meta content="http://localhost:2333/2020/08/26/css-font-face.html|åŠ¨æ€åŠ è½½å­—ä½“ç°åœ¨æ˜¯è¿™ä¹ˆä¸€ä¸ªæƒ…å†µï¼Œåå°æœ‰ä¸ªå¯Œæ–‡æœ¬ç»„ä»¶ï¼Œå¯ä»¥é…ç½®å¾ˆå¤šå­—ä½“ï¼Œå‰å°æ¸²æŸ“çš„è¯è¦æ ¹æ®è¿™äº›é…ç½®çš„å­—ä½“åŠ¨æ€å»åŠ è½½ã€‚å¦‚ä½•ç”¨æœ€ä¼˜é›…çš„æ–¹å¼å»å¤„ç†å‘¢ï¼Œè¿™å°±æ˜¯ä¸‹é¢è¦è®¨è®ºçš„ï¼Œå½“ç„¶å¯èƒ½æœ‰æ›´å¥½åœ°æ–¹å¼ ğŸ¤”ï¸@font-facelocal() / url..." property='og:description'
/>
<meta content="article" property="og:type" /> 

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-136311746-1"></script>
<!-- <script async src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script> -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"/>
<script>
  window.dataLayer = window.dataLayer || [];
  window.GA_TRACKING_ID = 'UA-136311746-1'
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('set', {
    'country': 'US',
    'currency': 'USD',
    'description': 'fuck',
  });
  gtag('config', GA_TRACKING_ID, {
    'custom_map': {
      'dimension1': 'post_title',
    },
    'post_title': 'test',
  });
</script>
<meta content="" property="fb:app_id" />
<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>åŠ¨æ€åŠ è½½å­—ä½“ | Tate &amp; Snow</title>
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="åŠ¨æ€åŠ è½½å­—ä½“" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="æ–°å¢ FontFace API ä»‹ç»" />
<meta property="og:description" content="æ–°å¢ FontFace API ä»‹ç»" />
<link rel="canonical" href="http://localhost:2333/2020/08/26/css-font-face.html" />
<meta property="og:url" content="http://localhost:2333/2020/08/26/css-font-face.html" />
<meta property="og:site_name" content="Tate &amp; Snow" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-08-26T18:03:00+08:00" />
<script type="application/ld+json">
{"description":"æ–°å¢ FontFace API ä»‹ç»","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:2333/2020/08/26/css-font-face.html"},"@type":"BlogPosting","url":"http://localhost:2333/2020/08/26/css-font-face.html","headline":"åŠ¨æ€åŠ è½½å­—ä½“","dateModified":"2020-08-26T18:03:00+08:00","datePublished":"2020-08-26T18:03:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<script>
  (function (d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s);
    js.id = id;
    js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&appId=";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>

</head>

<body class="dark-theme" gtools_scp_screen_capture_injected="true">
    <header id="header" class="header bg-white">
        <div class="navbar-container">
            <a href="Javascript:;" onclick="onClickLogo()" title="è®¿é—® Tate & Snow" class="navbar-logo menu-logo">
                <img src="http://localhost:2333/style/images/tate.png" alt="Tate & Snow"> </a>
            <!-- <a href="/?tate" title="è®¿é—® Tate & Snow" class="navbar-logo">Tate & Snow</a>   -->
            <div class="navbar-menu">
                
                  <a class=" menu-item-categories " href="Javascript:;" onclick="onClickMenu('é¦–é¡µ', '/')" title="è®¿é—® é¦–é¡µ" data-hover="é¦–é¡µ">é¦–é¡µ</a>
                
                  <a class=" menu-item-categories " href="Javascript:;" onclick="onClickMenu('å‰ç«¯', '/front')" title="è®¿é—® å‰ç«¯" data-hover="å‰ç«¯">å‰ç«¯</a>
                
                  <a class=" menu-item-categories " href="Javascript:;" onclick="onClickMenu('å†å²', '/history')" title="è®¿é—® å†å²" data-hover="å†å²">å†å²</a>
                
                  <a class=" menu-item-categories " href="Javascript:;" onclick="onClickMenu('å…¶ä»–', '/other')" title="è®¿é—® å…¶ä»–" data-hover="å…¶ä»–">å…¶ä»–</a>
                
                  <a class=" menu-item-categories " href="Javascript:;" onclick="onClickMenu('æ ‡ç­¾', '/tags')" title="è®¿é—® æ ‡ç­¾" data-hover="æ ‡ç­¾">æ ‡ç­¾</a>
                
                  <a class=" menu-item-about " href="Javascript:;" onclick="onClickMenu('å…³äº', '/README')" title="è®¿é—® å…³äº" data-hover="å…³äº">å…³äº</a>
                
            </div>
            <!-- <div class="navbar-menu">
                
                <a href="http://localhost:2333/">é¦–é¡µ</a>
                
                <a href="http://localhost:2333/front">å‰ç«¯</a>
                
                <a href="http://localhost:2333/history">å†å²</a>
                
                <a href="http://localhost:2333/other">å…¶ä»–</a>
                
                <a href="http://localhost:2333/tags">æ ‡ç­¾</a>
                
                <a href="http://localhost:2333/README">å…³äº</a>
                
            </div> -->
            <div class="navbar-search menu-item-search" onclick="onClickSearch()">
                <span class="icon-search"></span>
                <form id="cb-search-btn" role="search">
                    <span class="search-box">
                        <input type="text" class="input" id="cb-search-content" required="true" placeholder="æ ‡é¢˜ æ ‡ç­¾..." maxlength="30" autocomplete="off">
                    </span>
                </form>
            </div>
            <div class="navbar-mobile-menu" onclick="">
                <span class="icon-menu cross">
                    <span class="middle"></span>
                </span>
                <ul>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('é¦–é¡µ', 'http://localhost:2333/')">é¦–é¡µ</a>
                    </li>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('å‰ç«¯', 'http://localhost:2333/front')">å‰ç«¯</a>
                    </li>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('å†å²', 'http://localhost:2333/history')">å†å²</a>
                    </li>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('å…¶ä»–', 'http://localhost:2333/other')">å…¶ä»–</a>
                    </li>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('æ ‡ç­¾', 'http://localhost:2333/tags')">æ ‡ç­¾</a>
                    </li>
                    
                    <li>
                        <a class="menu-item-categories" href="Javascript:;" onclick="onClickMenu('å…³äº', 'http://localhost:2333/README')">å…³äº</a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </header>
    <a href="#header" class="back-to-top" onclick="onClickTop('åŠ¨æ€åŠ è½½å­—ä½“')">â¤´Topâ¤´</a>
    <div class="post-header-thumb bg-white}">
        <div class="post-header-thumb-op"></div>
        <div class="post-header-thumb">
            <div class="post-header-thumb-container">
                <h1 class="post-title" itemprop="name headline">
                    åŠ¨æ€åŠ è½½å­—ä½“</h1>
                <div class="post-data">
                    <time datetime="2020-08-26 18:03:00" itemprop="datePublished">
                      å‘å¸ƒæ—¶é—´ï¼š2020-08-26 18:03:00
                      &nbsp;&nbsp;&nbsp;
                      
                        ä¿®æ”¹æ—¶é—´ï¼š2021-08-30 16:15:00
                      
                    </time>
                    <a onclick="onClickCategory('å‰ç«¯')" href="Javascript:;" title="è®¿é—® å‰ç«¯" data-hover="åšå®¢åˆ†ç±»: å‰ç«¯">åšå®¢åˆ†ç±»: å‰ç«¯</a>
                    <!-- <a href="#read"> é˜…è¯»æ¬¡æ•°: comments</a>  -->
                </div>
                
                  <div role='update-description' class="post-data">
                    ä¿®æ”¹å†…å®¹ï¼šæ–°å¢ FontFace API ä»‹ç»
                  </div>
                
                <div class="post-tags">
                       
                    <a class="menu-item-tags" href="Javascript:;" onclick="onClickTag('CSS')" title="è®¿é—®CSS" data-hover="CSS">
                        CSS
                        <span>(2)</span>
                        
                    </a>
                    
                    <a class="menu-item-tags" href="Javascript:;" onclick="onClickTag('JavaScript')" title="è®¿é—®JavaScript" data-hover="JavaScript">
                        JavaScript
                        <span>(35)</span>
                        
                    </a>
                       
                </div>
            </div>
        </div>
    </div>
    <article class="main-content post-page" itemscope itemtype="http://schema.org/Article">
        <div class="post-header">
            <h1 class="post-title" itemprop="name headline">
                åŠ¨æ€åŠ è½½å­—ä½“</h1>
            <div class="post-data">
                <time datetime="2020-08-26 18:03:00" itemprop="datePublished">2020-08-26 18:03:00</time>
            </div>
        </div>
        <div id="post-content" class="post-content" itemprop="articleBody">
            <p class="post-tags">
                   
                <a href="Javascript:;" onclick="onClickTag('CSS')" title="è®¿é—®CSS" data-hover="CSS">
                    CSS
                    <span>(2)</span>
                    </a>
                
                <a href="Javascript:;" onclick="onClickTag('JavaScript')" title="è®¿é—®JavaScript" data-hover="JavaScript">
                    JavaScript
                    <span>(35)</span>
                    </a>
                   
            </p>
            <h1 id="åŠ¨æ€åŠ è½½å­—ä½“">åŠ¨æ€åŠ è½½å­—ä½“</h1>

<p>ç°åœ¨æ˜¯è¿™ä¹ˆä¸€ä¸ªæƒ…å†µï¼Œåå°æœ‰ä¸ªå¯Œæ–‡æœ¬ç»„ä»¶ï¼Œå¯ä»¥é…ç½®å¾ˆå¤šå­—ä½“ï¼Œå‰å°æ¸²æŸ“çš„è¯è¦æ ¹æ®è¿™äº›é…ç½®çš„å­—ä½“åŠ¨æ€å»åŠ è½½ã€‚å¦‚ä½•ç”¨æœ€ä¼˜é›…çš„æ–¹å¼å»å¤„ç†å‘¢ï¼Œè¿™å°±æ˜¯ä¸‹é¢è¦è®¨è®ºçš„ï¼Œå½“ç„¶å¯èƒ½æœ‰æ›´å¥½åœ°æ–¹å¼ ğŸ¤”ï¸</p>

<h2 id="font-face">@font-face</h2>

<h3 id="local--url">local() / url()</h3>

<p>é¦–å…ˆæˆ‘ä»¬è¦äº†è§£çš„æ˜¯ <code class="highlighter-rouge">@font-face</code>ï¼Œå®ƒæŒ‡å®šäº†ä¸€ä¸ªç”¨äºæ˜¾ç¤ºæ–‡æœ¬çš„è‡ªå®šä¹‰å­—ä½“ï¼Œ<strong>å­—ä½“èƒ½ä»è¿œç¨‹æœåŠ¡å™¨æˆ–è€…ç”¨æˆ·æœ¬åœ°å®‰è£…çš„å­—ä½“åŠ è½½</strong>:</p>

<ul>
  <li><strong>local()</strong> - å–ç”¨æˆ·æœ¬åœ°å®‰è£…çš„å­—ä½“</li>
  <li><strong>url()</strong> - å–è¿œç¨‹æœåŠ¡å™¨çš„å­—ä½“</li>
</ul>

<p><code class="highlighter-rouge">@font-face</code> è§„åˆ™ä¸ä»…ä»…ä½¿ç”¨åœ¨ CSS çš„é¡¶å±‚ï¼Œè¿˜å¯ä»¥ç”¨åœ¨ä»»ä½• CSS <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/At-rule#Conditional_Group_Rules"><strong>æ¡ä»¶ç»„è§„åˆ™</strong></a> ä¸­:</p>

<pre><code class="language-CSS">@font-face {
  font-family: 'Cairo';
  font-style: normal;
  font-weight: 400;
  src: url('/font/cairo-v5-latin_arabic-regular.eot'); /* IE9 Compat Modes */
  src: local('Cairo'), local('Cairo-Regular'),
    url('/font/cairo-v5-latin_arabic-regular.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */
    url('/font/cairo-v5-latin_arabic-regular.woff2') format('woff2'), /* Super Modern Browsers */
    url('/font/cairo-v5-latin_arabic-regular.woff') format('woff'), /* Modern Browsers */
    url('/font/cairo-v5-latin_arabic-regular.ttf') format('truetype'), /* Safari, Android, iOS */
    url('/font/cairo-v5-latin_arabic-regular.svg#Cairo') format('svg'); /* Legacy iOS */
  }
</code></pre>

<h3 id="font-family">font-family</h3>

<p>è¿™é‡Œçš„ <code class="highlighter-rouge">font-family</code> å¯ä»¥è‡ªå®šä¹‰å­—ä½“çš„åç§°ï¼Œæ–¹ä¾¿åç»­å»ä½¿ç”¨ï¼Œç‰¹åˆ«æ˜¯å­—ä½“åå­—è¾ƒé•¿æˆ–è€…å¤„ç†å­—ä½“ä¼˜å…ˆçº§çš„æ—¶å€™:</p>

<pre><code class="language-CSS">@font-face {
  font-family: 'Tate';
  src: local('PingFang SC'), local("Francois One");
}

/* ...ä½¿ç”¨ */
.font {
  font-family: 'Tate';
}
</code></pre>

<h3 id="unicode-range">unicode-range</h3>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/unicode-range"><strong>unicode-range</strong></a> è®¾ç½®äº† <code class="highlighter-rouge">@font-face</code> å®šä¹‰çš„å­—ä½“ä¸­è¦ä½¿ç”¨çš„ç‰¹å®šå­—ç¬¦èŒƒå›´:</p>

<pre><code class="language-CSS">/* latin */
@font-face {
  font-family: 'Francois One';
  font-style: normal;
  font-weight: 400;
  src: local('Francois One Regular'), local('FrancoisOne-Regular'), url(http://fonts.gstatic.com/s/francoisone/v14/_Xmr-H4zszafZw3A-KPSZut9wQiRmfW_Aw.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
</code></pre>

<p>å¦‚æœé¡µé¢åœ¨æ­¤èŒƒå›´å†…æœªä½¿ç”¨ä»»ä½•å­—ç¬¦ï¼Œåˆ™ä¸ä¼šä¸‹è½½å­—ä½“ï¼›å¦‚æœä½¿ç”¨è‡³å°‘ä¸€ç§ï¼Œåˆ™å°†ä¸‹è½½æ•´ä¸ªå­—ä½“:</p>

<pre><code class="language-TEXT">Font Face: Hey HTML, do any of the following characters match what is on the page?
HTML: Yep, a bunch of them do.
Font-Face: Great, here is a font file you should download to display those characters.
</code></pre>

<p><code class="highlighter-rouge">unicode-range</code> çš„å–å€¼å¦‚ä¸‹ï¼Œå…·ä½“å¯¹åº”å­—ç¬¦å¯ä»¥æŸ¥çœ‹ <a href="https://unicode-table.com/en/#basic-latin"><strong>unicode-table</strong></a> æ˜ å°„è¡¨:</p>

<pre><code class="language-CSS">/* &lt;unicode-range&gt; values */
unicode-range: U+26;               /* single codepoint */
unicode-range: U+0-7F;
unicode-range: U+0025-00FF;        /* codepoint range */
unicode-range: U+4??;              /* wildcard range - è¡¨ç¤ºä» U+400 åˆ° U+4FF */
unicode-range: U+0025-00FF, U+4??; /* multiple values */
</code></pre>

<p>é‚£ä¹ˆåˆ©ç”¨ <code class="highlighter-rouge">unicode-range</code> å¯ä»¥å®ç°ä¸€äº›ä»€ä¹ˆåŠŸèƒ½å‘¢ï¼Œæˆ‘ä»¬å¯ä»¥å‚è€ƒä¸‹<a href="https://www.zhangxinxu.com/wordpress/2016/11/css-unicode-range-character-font-face/">è¿™ç¯‡æ–‡ç« </a>ï¼Œå¯¹äºä¸€äº›ç‰¹å®šçš„å­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥æå‰ç”ŸæˆåªåŒ…å«è¿™äº›å­—ç¬¦çš„å­—ä½“ï¼Œç„¶åé€šè¿‡ <code class="highlighter-rouge">unicode-range</code> æŒ‡å‘å®ƒå³å¯ï¼Œæœ€ç»ˆè¿™äº›å­—ç¬¦éƒ½ä¼šè¢«æ›¿æ¢æ‰ä¸ºç‰¹å®šçš„å­—ä½“ã€‚</p>

<h3 id="æ ¼å¼-ttf--woff--eot">æ ¼å¼ ttf / woff / eot</h3>

<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸åŒæµè§ˆå™¨å¯èƒ½æ”¯æŒçš„å­—ä½“æ ¼å¼ä¸ä¸€æ ·ï¼Œå¤§å®¶å¯ä»¥çœ‹è‡ªå·±éœ€è¦ã€‚å¦‚æœ cdn ä¸Šéœ€è¦å­˜æ”¾è¿™äº›æ ¼å¼çš„å­—ä½“åŒ…ï¼Œè¿™é‡Œæ¨èä¸€ä¸‹ <a href="https://google-webfonts-helper.herokuapp.com/fonts/abel?subsets=latin"><strong>google-webfonts-helper</strong></a>ï¼Œå¯ä»¥ä¸‹åˆ°å„ç§ä¸åŒæ ¼å¼çš„å­—ä½“æ–‡ä»¶ï¼Œå¹¶ä¸”è‡ªåŠ¨ç”Ÿæˆä¸Šé¢çš„ <code class="highlighter-rouge">@font-face</code> æ ·å¼ä¾›æ‹·è´ã€‚</p>

<blockquote>
  <p>å¸¸ç”¨çš„å¼€æºå­—ä½“åº“ç½‘ç«™æœ‰ <a href="https://fonts.google.com">Google Fonts</a>, <a href="https://fonts.adobe.com">Typekit</a>, <a href="http://fontdeck.com">fontdeck</a>, <a href="https://www.fonts.com">fonts.com</a>, <a href="https://www.webtype.com">webtype</a> ç­‰ ğŸ‘ˆ</p>
</blockquote>

<p>ok æœ‰äº† <code class="highlighter-rouge">@font-face</code> çš„å¸®å¿™ï¼Œè€Œä¸”å…¼å®¹æ€§è¶…æ£’ï¼Œæµè§ˆå™¨ç°åœ¨å¯ä»¥è·å–å¯¹åº”çš„å­—ä½“äº†ã€‚ä½†æ˜¯ä¸åŒæµè§ˆå™¨å¯¹äºå¤„ç†å­—ä½“åˆå„æœ‰ä¸åŒï¼Œå…·ä½“å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸¤ç±»:</p>

<h2 id="foit---flash-of-invisible-text">FOIT - Flash Of Invisible Text</h2>

<p><strong>FOIT</strong> å³ <code class="highlighter-rouge">Flash Of Invisible Text</code>ï¼Œç¼ºç‚¹æ˜¯æ–‡å­—é•¿æ—¶é—´è¢«éšè—ï¼Œä½“éªŒä¸æ˜¯å¾ˆå¥½:</p>

<ol>
  <li>å­—ä½“å¼€å§‹ä¸‹è½½ï¼›</li>
  <li>è¯·æ±‚ç½‘ç»œå­—ä½“æ—¶å­—ä½“ä¸å¯è§ï¼›</li>
  <li>ç½‘ç»œå­—ä½“ä¸‹è½½å®Œæ¯•ï¼›</li>
  <li>å­—ä½“å‘ˆç°ã€‚</li>
</ol>

<h2 id="fout---flash-of-unstyled-text">FOUT - Flash of Unstyled Text</h2>

<p><strong>FOUT</strong> å³ <code class="highlighter-rouge">Flash of Unstyled Text</code>ï¼Œç¼ºç‚¹æ˜¯å­—ä½“æ›¿æ¢æ—¶å¯èƒ½ä¼šæŠ–åŠ¨:</p>

<ol>
  <li>å­—ä½“å¼€å§‹ä¸‹è½½ï¼›</li>
  <li>å­—ä½“å‘ˆç°ï¼Œå¹¶é‡‡ç”¨é…ç½®çš„å¤‡ä»½å­—ä½“ï¼›</li>
  <li>ç½‘ç»œå­—ä½“ä¸‹è½½å®Œæ¯•ï¼›</li>
  <li>å­—ä½“æ›¿æ¢ä¸ºç½‘ç»œå­—ä½“ã€‚</li>
</ol>

<h2 id="æ–¹æ¡ˆä¸€---ç›‘å¬å­—ä½“åŠ è½½">æ–¹æ¡ˆä¸€ - ç›‘å¬å­—ä½“åŠ è½½</h2>

<h3 id="fontfaceobserver">fontfaceobserver</h3>

<p>æ­¤æ–¹æ¡ˆç›®çš„å°±æ˜¯è®©æ‰€æœ‰æµè§ˆå™¨éƒ½è¡¨ç°ä¸º FOUTï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼Œå³åœ¨è‡ªå®šä¹‰å­—ä½“åŠ è½½å®Œæˆä¹‹å‰ï¼Œå…ˆæ˜¾ç¤ºé™çº§å­—ä½“ã€‚é‚£ä¹ˆé—®é¢˜å°±æ˜¯å¦‚ä½•ç›‘å¬å­—ä½“åŠ è½½å®Œæˆã€‚è¿™é‡Œå¯ä»¥ç”¨ <code class="highlighter-rouge">@font-face loader</code>: <a href="https://github.com/bramstein/fontfaceobserver">fontfaceobserver</a>ï¼Œç”¨æ³•å¾ˆç®€å•:</p>

<pre><code class="language-JS">// ä¸‹è½½å¹¶ç›‘å¬å­—ä½“ï¼Œå­—ä½“æ¥æºå¯ä»¥æ˜¯ Google Fonts, Typekit, and Webtype or be self-hosted
const font = new FontFaceObserver('My Family', {
  weight: 400
})

font.load().then(function () {
  document.documentElement.classList.add('font-loaded')
})
</code></pre>

<pre><code class="language-less">@fallback: Georgia, serif;

h1, .h1 {
  // å¤‡ä»½å­—ä½“
  font-family: @fallback;

  .font-loaded &amp; {
    font-family: "My Family";
  }
}
</code></pre>

<p>æ³¨æ„ä¸Šè¿° less çš„å†™æ³•ï¼Œä¹‹å‰æ²¡è¿™ä¹ˆç”¨è¿‡ï¼Œè¿™ä¹ˆå¥½ç”¨çš„åŠŸèƒ½ç«Ÿç„¶ç°åœ¨æ‰çŸ¥é“ ğŸ¤¦â€â™‚ï¸ï¼Œå®ƒç›¸å½“äº:</p>

<pre><code class="language-CSS">h1, .h1 {
  font-family: Georgia, serif;
}
.font-loaded h1, .font-loaded .h1 {
  font-family: "My Family";
}
</code></pre>

<blockquote>
  <p>ç”±äº fontfaceobserver api ä½¿ç”¨äº† Promiseï¼Œå¯¹äºä¸æ”¯æŒ Promise çš„åˆ™éœ€è¦ polyfillï¼Œæˆ–è€…ç›´æ¥å¼•ç”¨ <code class="highlighter-rouge">fontfaceobserver.js</code>ï¼Œå¦åˆ™å¼•ç”¨ <code class="highlighter-rouge">fontfaceobserver.standalone.js</code></p>
</blockquote>

<h3 id="css-font-loading-api">CSS Font Loading API</h3>

<p>ä½¿ç”¨åŸç”Ÿçš„ <a href="https://developer.mozilla.org/en-US/docs/Web/API/CSS_Font_Loading_API"><strong>CSS Font Loading API</strong></a> ä¹Ÿå¯ä»¥ç”¨æ¥ç®¡ç†å­—ä½“ä¸‹è½½çš„çŠ¶æ€ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <strong>Font Face API</strong> æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨:</p>

<ul>
  <li><strong>family</strong> - å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå­—ä½“åï¼Œå†™æ³•ä¸ CSS çš„ @font-face çš„ font-family å±æ€§ç›¸åŒ</li>
  <li><strong>source</strong> - å­—ä½“æ–‡ä»¶çš„ URLï¼ˆå¿…é¡»åŒ…æ‹¬ CSS çš„ url() æ–¹æ³•ï¼‰ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªå­—ä½“çš„ ArrayBuffer å¯¹è±¡</li>
  <li><strong>descriptors</strong> - å¯¹è±¡ï¼Œç”¨æ¥å®šåˆ¶å­—ä½“æ–‡ä»¶ã€‚è¯¥å‚æ•°å¯é€‰</li>
</ul>

<pre><code class="language-JS">// FontFace() è¿”å›çš„æ˜¯ä¸€ä¸ªå­—ä½“å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«å­—ä½“ä¿¡æ¯ã€‚æ­¤æ—¶å­—ä½“æ–‡ä»¶è¿˜æ²¡æœ‰å¼€å§‹åŠ è½½
new FontFace(family, source, descriptors)
</code></pre>

<p>å­—ä½“å¯¹è±¡çš„æ–¹æ³•ï¼Œåªæœ‰ä¸€ä¸ª <strong>FontFace.load()</strong>ï¼Œè¯¥æ–¹æ³•ä¼šçœŸæ­£å¼€å§‹åŠ è½½å­—ä½“ã€‚å®ƒè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼ŒçŠ¶æ€ç”±å­—ä½“åŠ è½½çš„ç»“æœå†³å®š:</p>

<pre><code class="language-JS">const font = new window.FontFace('new font', 'url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2)')
document.fonts.add(font)

font.load().then(info =&gt; {
  console.log('å­—ä½“åŠ è½½å®Œæˆ')
}).catch(err =&gt; {
  console.log(err)
})
</code></pre>

<h2 id="æ–¹æ¡ˆäºŒ---å­—ä½“å­é›†åŒ–">æ–¹æ¡ˆäºŒ - å­—ä½“å­é›†åŒ–</h2>

<p>æ–¹æ¡ˆä¸€è¿˜æ˜¯ä¸èƒ½è§£å†³ä¸€äº›å­—ä½“åº“å¤ªå¤§çš„é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯å¼±ç½‘ä¸‹ï¼Œå…¨é‡åŠ è½½è¿™ä¸ªç­‰å¾…æ—¶é—´æ˜¯å¾ˆé•¿çš„ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥æƒ³åˆ°é‡‡ç”¨å­—ä½“å­é›†åŒ–ï¼ŒæœåŠ¡å™¨æ¥å—åˆ°å®¢æˆ·ç«¯å‘æ¥çš„è¯·æ±‚åï¼Œå»æˆªå–å¹¶åªä¸‹è½½æˆ‘ä»¬éœ€è¦ç”¨åˆ°çš„æ–‡å­—ã€‚è¿™é‡Œä¹Ÿæ¨èä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ï¼š<a href="https://github.com/ecomfe/fontmin">fontmin</a>:</p>

<pre><code class="language-JS">const Fontmin = require('fontmin')
const Promise = require('bluebird')

async function extractFontData(fontPath) {
  const fontmin = new Fontmin()
    .src('./font/senty.ttf')
    .use(Fontmin.glyph({
      text: 'å­—ä½“é¢„è§ˆ'
    }))
    .use(Fontmin.ttf2woff2())
    .dest('./dist')

  await Promise.promisify(fontmin.run, { context: fontmin })()
}
extractFontData()
</code></pre>

<h2 id="æ–¹æ¡ˆä¸‰---web-font-loader">æ–¹æ¡ˆä¸‰ - Web Font Loader</h2>

<p><a href="https://github.com/typekit/webfontloader"><strong>Web Font Loader</strong></a> å¯ä»¥è®©ä½ åœ¨ä½¿ç”¨ <code class="highlighter-rouge">@font-face</code> çš„æ—¶å€™å»æ§åˆ¶å®ƒçš„çŠ¶æ€ï¼ŒåŒæ ·å®ƒæ”¯æŒçš„å­—ä½“æ•°æ®æºä¹Ÿå¾ˆå¤šï¼Œæ˜¯ç”± Google å’Œ Typekit è”åˆæ¨å‡ºçš„ï¼Œå’Œæ–¹æ¡ˆä¸€ç±»ä¼¼:</p>

<pre><code class="language-JS">&lt;script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"&gt;&lt;/script&gt;
&lt;script&gt;
  WebFont.load({
    google: {
      families: ['Droid Sans', 'Droid Serif']
    }
  })
&lt;/script&gt;
</code></pre>

<p>ä¸Šé¢æ˜¯æœ€ç®€å•çš„æ–¹å¼ï¼Œä½†æ˜¯æœ‰ä¸ªé—®é¢˜å°±æ˜¯å½±å“ DOM çš„è§£æå’Œæ¸²æŸ“ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥é‡‡ç”¨åˆ›å»ºåŠ¨æ€é“¾æ¥çš„æ–¹å¼ï¼Œå½“ç„¶è¿™æ ·åšå­˜åœ¨ä¸€ä¸ªé—®é¢˜å°±æ˜¯å¯èƒ½æ–‡å­—å†…å®¹å…ˆæ¸²æŸ“äº†ï¼Œä¼šé€ æˆä¸Šè¿°çš„ FOUT:</p>

<pre><code class="language-JS">&lt;script&gt;
  window.WebFontConfig = {
    google: { families: ['Droid Sans', 'Droid Serif:bold'] }
  }

  (function(d) {
    var wf = d.createElement('script'), s = d.scripts[0]
    wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js'
    wf.async = true
    s.parentNode.insertBefore(wf, s)
  })(document)
&lt;/script&gt;
</code></pre>

<p><code class="highlighter-rouge">WebFontConfig</code> åŒ…å«äº†å…¨å±€çš„é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é‡Œé¢å®šä¹‰æ•°æ®æºï¼Œæ¯”å¦‚:</p>

<pre><code class="language-JS">// You can find the Kit ID within Typekit's Kit Editor interface
WebFontConfig = {
  typekit: { id: 'xxxxxx' }
}
</code></pre>

<p>è¿˜å¯ä»¥å®šä¹‰ä¸€äº›äº‹ä»¶é’©å­ï¼Œæ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œç›‘å¬å’Œæ“ä½œ:</p>

<ul>
  <li><strong>loading</strong> - This event is triggered when all fonts have been requested.</li>
  <li><strong>active</strong> - This event is triggered when the fonts have rendered.</li>
  <li><strong>inactive</strong> - This event is triggered when the browser does not support linked fonts or if none of the fonts could be loaded.</li>
  <li><strong>fontloading</strong> - This event is triggered once for each font thatâ€™s loaded.</li>
  <li><strong>fontactive</strong> - This event is triggered once for each font that renders.</li>
  <li><strong>fontinactive</strong> - This event is triggered if the font canâ€™t be loaded.</li>
</ul>

<p>ä¸åŒçŠ¶æ€ï¼Œhtml ä¸Šä¹Ÿä¼šæ·»åŠ ä¸åŒçš„ CSS ç±»å:</p>

<pre><code class="language-TEXT">.wf-loading
.wf-active
.wf-inactive
.wf-&lt;familyname&gt;-&lt;fvd&gt;-loading
.wf-&lt;familyname&gt;-&lt;fvd&gt;-active
.wf-&lt;familyname&gt;-&lt;fvd&gt;-inactive
</code></pre>

<p>The <code class="highlighter-rouge">&lt;familyname&gt;</code> placeholder will be replaced by a sanitized version of the name of each font family. Spaces and underscores are removed from the name, and all characters are converted to lower case. For example, Droid Sans becomes droidsans.</p>

<p>The <code class="highlighter-rouge">&lt;fvd&gt;</code> placeholder is a Font Variation Description. Put simply, itâ€™s a shorthand for describing the style and weight of a particular font:</p>

<pre><code class="language-CSS">/* n4 */
@font-face { font-style: normal; font-weight: normal; }

/* i7 */
@font-face { font-style: italic; font-weight: bold; }
</code></pre>

<p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å»æ‰è¿™äº›é»˜è®¤è¡Œä¸ºï¼Œé‚£å®ƒå•¥éƒ½ä¸ä¼šç›‘å¬ï¼Œå°±åªæ˜¯å•çº¯çš„æ’å…¥ <code class="highlighter-rouge">@font-face</code> åˆ°æ–‡æ¡£ä¸­:</p>

<pre><code class="language-JS">WebFontConfig = {
  events: false,
  classes: false,
};
</code></pre>

<p>æ–¹æ¡ˆä¸‰ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬éƒ½ä¼šé‡‡ç”¨å¼‚æ­¥å»åŠ è½½æ–‡ä»¶çš„æ–¹å¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜æ˜¯å¯ä»¥å°½å¯èƒ½åœ°å»ä¼˜åŒ– FOUTï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é…ç½®é¡¹ä¸­ç›‘å¬å­—ä½“æ¸²æŸ“å®Œçš„äº‹ä»¶:</p>

<pre><code class="language-JS">WebFontConfig = {
  // other options and settings
  active: function() {
    sessionStorage.fonts = true // è¡¨ç¤ºå­—ä½“å·²ç»æ¸²æŸ“å®Œ
  }
}
</code></pre>

<p>ç„¶åæˆ‘ä»¬å¯ä»¥åœ¨ <code class="highlighter-rouge">head</code> ä¸­æ’å…¥ä»¥ä¸‹è„šæœ¬ï¼Œå¯ä»¥åŠæ—¶åˆ¤æ–­ <code class="highlighter-rouge">sessionStorage</code> æ˜¯å¦å­˜åœ¨è¿™ä¸ª keyï¼Œå¹¶å°½å¿«ç»™ html ä¸Šæ·»åŠ æ ·å¼:</p>

<pre><code class="language-HTML">&lt;head&gt;
  &lt;script&gt;
    (function() {
      if (sessionStorage.fonts) {
        console.log("Fonts installed.");
        document.documentElement.classList.add('wf-active');
      } else {
        console.log("No fonts installed.");
      }
    })();
  &lt;/script&gt;
&lt;/head&gt;
</code></pre>

<h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h2>

<ol>
  <li><a href="https://css-tricks.com/loading-web-fonts-with-the-web-font-loader/">Loading Web Fonts with the Web Font Loader</a> by Robin Rendle</li>
  <li><a href="https://aotu.io/notes/2020/02/28/webfont-processing/index.html">Web ä¸­æ–‡å­—ä½“å¤„ç†æ€»ç»“ - å‡¹å‡¸å®éªŒå®¤</a></li>
</ol>
 
<div id="gitalk-container"></div>
<script>
    var gitalk = new Gitalk({
      enable: true,
      clientID: '020f142489f80c92b097',
      clientSecret: '1fa083372b44031cf1b8249251515c4e3d54c69d',
      repo: 'tate-young.github.io',
      owner: 'Tate-Young',
      admin: ['Tate-Young'],
      id: location.pathname,      // Ensure uniqueness and length less than 50
      distractionFreeMode: false  // Facebook-like distraction free mode
    })

    gitalk.render('gitalk-container')
</script>
<!-- disqus -->
<!-- <div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */

    var disqus_config = function () {
        this.page.url = 'https://tate-young.github.io/2020/08/26/css-font-face.html';
        this.page.identifier = '/2020/08/26/css-font-face';
        this.page.title = 'åŠ¨æ€åŠ è½½å­—ä½“';
    };

    (function () { // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document,
            s = d.createElement('script');

        s.src = '//tate.disqus.com/embed.js'; // IMPORTANT: Replace EXAMPLE with your forum shortname!

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript> -->


            <!-- <p class="post-info">
			æœ¬æ–‡ç”± <a href="/">liberxue</a> åˆ›ä½œï¼Œé‡‡ç”¨ <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="external nofollow">çŸ¥è¯†å…±äº«ç½²å4.0</a> å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯<br>æœ¬ç«™æ–‡ç« é™¤æ³¨æ˜è½¬è½½/å‡ºå¤„å¤–ï¼Œå‡ä¸ºæœ¬ç«™åŸåˆ›æˆ–ç¿»è¯‘ï¼Œè½¬è½½å‰è¯·åŠ¡å¿…ç½²å<br>æœ€åç¼–è¾‘æ—¶é—´ä¸º:2020-08-26 18:03:00</p> -->
        </div>
    </article>

    <!-- <div class="related-post-lists">
	<div class="post-lists">
		<div class="post-lists-body">
					<div class="post-list-item">
				<div class="post-list-item-container">
					<div class="item-label">
						<div class="item-title"><a href="induction.html">å½’çº³çš„éšæƒ³</a></div>
						<div class="item-meta clearfix">
														<div class="item-meta-ico bg-ico-image" style="background: url('../usr/themes/pinghsu/images/bg-ico.png') no-repeat;background-size: 40px auto;"></div>
	                        							<div class="item-meta-cat"><a href="../category/thoughts/index.html">Thoughts</a></div>
						</div>
					</div>
				</div>
			</div>
				</div>
	</div>
</div> -->

    <!-- <footer class="footer bg-white">
	<div class="footer-social">
		<div class="footer-container clearfix">
			<div class="social-list">
	 <a class="social segmentfault" target="blank" href="https://segmentfault.com/u/liberxue" title="è®¿é—® LiberXue_Twitter" data-hover="Segmentfault">Segmentfault</a>
    <a class="social github" target="blank" href="https://github.com/liberxue" title="è®¿é—® LiberXue_Twitter" data-hover="GitHub">GitHub</a>
    <a class="social twitter" target="blank" href="http://twitter.com/liberxue" title="è®¿é—® LiberXue_Twitter" data-hover="Twitter">Twitter</a>
     <a class="social stackoverflow" target="blank" href="https://stackoverflow.com/users/6902190/liberxue" title="è®¿é—® LiberXue_stackoverflow" data-hover="StackOverflow">StackOverflow</a>
          <a class="social oschina" target="blank" href="https://my.oschina.net/bolanzw" title="è®¿é—® LiberXue_Oschina" data-hover="Oschina">Oschina</a>
     <a class="social rss" target="blank" href="/feed.xml"title="è®¿é—® LiberXue_RSS" data-hover="RSS">RSS</a>
	</div>
		</div>
	</div>
	<div class="footer-meta">
        <div class="footer-container">
            <div class="meta-item meta-copyright">
                <div class="meta-copyright-info">
                    <a href="/" class="info-logo">
                         <img src="http://localhost:2333/style/images/logo-liberxue.png"   title="è®¿é—® LiberXue_blog" data-hover="LiberXue_blog" alt="LiberXue_blog" /> </a>
                    <div class="info-text">
                        <p>Theme is <a href="http://www.liberxue.com/2017/08/03/Jekyllthemes.html" title="è®¿é—® Jekyll liberxueä¸»é¢˜"  data-hover="Jekyll liberxue"target="_blank">Jekyll liberxue</a> by <a href="http://www.liberxue.com/about" target="_blank">liberxue</a></p>
                        <p>Powered by <a href="http://localhost:2333/tags/#Jekyll" title="Jekyll" data-hover="Jekyll" target="_blank" rel="nofollow">Jekyll</a></p>
                        <p>&copy; 2017 <a href="/feed.xml"  title="è®¿é—® liberxue blog RSS" data-hover="liberxue blog RSS">liberxue blog RSS</a></p>
                        <p>æ€»è®¡æ–‡ç« ï¼šç¯‡</p>
                      <p>æœ¬blogå·²å¼€æºç‚¹å‡»Fork</p><iframe src="http://ghbtns.com/github-btn.html?user=liberxue&repo=liberxue.github.io&type=fork&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe>
                    </div>
                </div>
            </div>
            <div class="meta-item meta-posts">
                <h3 class="meta-title">ç½®é¡¶æ–‡ç« </h3>
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
            </div>
            <div class="meta-item meta-comments">
                <h3 class="meta-title">æœ€æ–°æ–‡ç« </h3>
  
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
</div>
		</div>
    </div>
</footer> -->
<script src="//cdn.bootcss.com/jquery/2.2.2/jquery.min.js"></script>
<script src="//cdn.bootcss.com/bootstrap-3-typeahead/4.0.2/bootstrap3-typeahead.js"></script>
<script async src="/search/js/520.js"></script>
<script async src="/search/js/gtag.js"></script>
<script async src="/search/live2d/autoload.js"></script>
<!-- <script src="/search/js/canvas.js"></script> -->

<script>
    $(function () {
        setTimeout(function () {
            $('code').removeClass('hljs');
            $('code').removeClass('language');
        }, 90);
    });
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    <!--liberxueconnnet-menu-->
    <div id="directory-content" class="directory-content">
        <div id="directory"></div>
    </div>
    <!--liberxueconnnet-menu-->
    <script>
      const directoryContainer = document.getElementById('directory')
      const postTitle = document.getElementsByClassName('post-title')[0]
      var postDirectoryBuild = function () {
        var postChildren = function children(childNodes, reg) {
          var result = [],
              isReg = typeof reg === 'object',
              isStr = typeof reg === 'string',
              node, i, len;
          for (i = 0, len = childNodes.length; i < len; i++) {
            node = childNodes[i];
            if ((node.nodeType === 1 || node.nodeType === 9) &&
              (!reg ||
                  isReg && reg.test(node.tagName.toLowerCase()) ||
                  isStr && node.tagName.toLowerCase() === reg)) {
                result.push(node);
              }
            }
            return result;
          },
          createPostDirectory = function (article, directory, isDirNum) {
            var contentArr = [],
                titleId = [],
                levelArr, root, level,
                currentList, list, li, link, i, len;
            levelArr = (function (article, contentArr, titleId) {
                  var titleElem = postChildren(article.childNodes, /^h\d$/),
                      levelArr = [],
                      lastNum = 1,
                      lastRevNum = 1,
                      count = 0,
                      guid = 1,
                      id = 'directory' + (Math.random() + '').replace(/\D/, ''),
                      lastRevNum, num, elem;
                  while (titleElem.length) {
                      elem = titleElem.shift();
                      contentArr.push(elem.innerHTML);
                      num = +elem.tagName.match(/\d/)[0];
                      if (num > lastNum) {
                          levelArr.push(1);
                          lastRevNum += 1;
                      } else if (num === lastRevNum ||
                          num > lastRevNum && num <= lastNum) {
                          levelArr.push(0);
                          lastRevNum = lastRevNum;
                      } else if (num < lastRevNum) {
                          levelArr.push(num - lastRevNum);
                          lastRevNum = num;
                      }
                      count += levelArr[levelArr.length - 1];
                      lastNum = num;
                      elem.id = elem.id || (id + guid++);
                      titleId.push(elem.id);
                  }
                  if (count !== 0 && levelArr[0] === 1) levelArr[0] = 0;

                  return levelArr;
              })(article, contentArr, titleId);
              currentList = root = document.createElement('ul');
              dirNum = [0];
              for (i = 0, len = levelArr.length; i < len; i++) {
                  level = levelArr[i];
                  if (level === 1) {
                      list = document.createElement('ul');
                      if (!currentList.lastElementChild) {
                          currentList.appendChild(document.createElement('li'));
                      }
                      currentList.lastElementChild.appendChild(list);
                      currentList = list;
                      dirNum.push(0);
                  } else if (level < 0) {
                      level *= 2;
                      while (level++) {
                          if (level % 2) dirNum.pop();
                          currentList = currentList.parentNode;
                      }
                  }
                  dirNum[dirNum.length - 1]++;
                  li = document.createElement('li');
                  link = document.createElement('a');
                  link.name = '#' + titleId[i];
                  link.href = 'Javascript:;'
                  link.className = "post-aside-anchor"
                  link.title = 'è®¿é—®' + titleId[i];
                  link.innerHTML = !isDirNum ? contentArr[i] :
                      dirNum.join('.') + ' ' + contentArr[i];
                  li.appendChild(link);
                  currentList.appendChild(li);
              }
            directory.appendChild(root);
          };
        createPostDirectory(document.getElementById('post-content'), directoryContainer, true);
      };
      postDirectoryBuild();
    </script>
    <script>
      // gtag('config', GA_TRACKING_ID, {
      //   'page_title' : 'Blog',
      //   'page_path': window.location.pathname,
      //   'post_title': 'watttsdfasdf',
      // });

    </script>
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script>
        lang = hljs.initHighlightingOnLoad();
    </script>
</body>

</html>
